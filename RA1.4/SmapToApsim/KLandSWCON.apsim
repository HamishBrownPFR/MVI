<folder version="36" creator="Apsim 7.7-r3690" name="simulations">
  <folder name="SWcon">
    <simulation name="swcon_Awatere191">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <outputfile>
          <filename output="yes">swcon_Awatere191.out</filename>
          <title>swcon_Awatere191</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>dul(6-10)</variable>
            <variable>sat(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-jun</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 4
   mint = 0
   rain = 3000
   radn = 0
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 4
   mint = 0
   rain = 0
   radn = 0
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
        <Soil name="Awatere_19a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Typic Fluvial Recent Soils</SoilType>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <YearOfSampling>0</YearOfSampling>
          <LayerStructure>
            <Thickness>
              <double>10</double>
              <double>20</double>
              <double>30</double>
              <double>40</double>
              <double>122</double>
              <double>122</double>
              <double>122.00000000000003</double>
              <double>121.99999999999996</double>
              <double>122.00000000000003</double>
              <double>122.00000000000003</double>
              <double>122.00000000000003</double>
              <double>121.99999999999989</double>
              <double>122.00000000000003</double>
              <double>122.00000000000003</double>
              <double>121.99999999999989</double>
              <double>122.00000000000017</double>
              <double>121.99999999999989</double>
              <double>122.00000000000017</double>
              <double>121.99999999999989</double>
              <double>50</double>
              <double>20</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>1.1606999999999998</double>
            </BD>
            <AirDry>
              <double>0.030525000000000004</double>
            </AirDry>
            <LL15>
              <double>0.033</double>
            </LL15>
            <DUL>
              <double>0.149</double>
            </DUL>
            <SAT>
              <double>0.52266000000000012</double>
            </SAT>
            <KS>
              <double>2400</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.033</double>
              </LL>
              <KL>
                <double>0.00019830017413330868</double>
              </KL>
              <XF>
                <double>0.046328405328162174</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.033</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>0.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>11.779000000000002</double>
            </CEC>
            <ParticleSizeSand>
              <double>88.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>10.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>2.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
      </area>
      <Graph name="SWC layers">
        <Legend>
          <CheckedTitles> sw(6-10)(1)</CheckedTitles>
          <CheckedTitles> sw(6-10)(2)</CheckedTitles>
          <CheckedTitles> sw(6-10)(3)</CheckedTitles>
          <CheckedTitles> sw(6-10)(4)</CheckedTitles>
          <CheckedTitles> sw(6-10)(5)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>sw(6-10)(1)</Y>
          <Y>sw(6-10)(2)</Y>
          <Y>sw(6-10)(3)</Y>
          <Y>sw(6-10)(4)</Y>
          <Y>sw(6-10)(5)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
    </simulation>
    <simulation name="swcon_Waikuku271">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <Soil name="Waikuku_27a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Typic Sandy Brown Soils</SoilType>
          <Region>
          </Region>
          <State>
          </State>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>1.4098</double>
            </BD>
            <AirDry>
              <double>0.04255</double>
            </AirDry>
            <LL15>
              <double>0.046</double>
            </LL15>
            <DUL>
              <double>0.15</double>
            </DUL>
            <SAT>
              <double>0.43524</double>
            </SAT>
            <KS>
              <double>1200</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.046</double>
              </LL>
              <KL>
                <double>0.00022308769589997226</double>
              </KL>
              <XF>
                <double>0.046328405328162174</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.046</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>0.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>12.6135</double>
            </CEC>
            <ParticleSizeSand>
              <double>84.5</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>10.5</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>5.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">swcon_Waikuku271.out</filename>
          <title>swcon_Waikuku271</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>dul(6-10)</variable>
            <variable>sat(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-jun</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 4
   mint = 0
   rain = 3000
   radn = 0
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 4
   mint = 0
   rain = 0
   radn = 0
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
      </area>
      <Graph name="SWC layers">
        <Legend>
          <CheckedTitles> sw(6-10)(1)</CheckedTitles>
          <CheckedTitles> sw(6-10)(2)</CheckedTitles>
          <CheckedTitles> sw(6-10)(3)</CheckedTitles>
          <CheckedTitles> sw(6-10)(4)</CheckedTitles>
          <CheckedTitles> sw(6-10)(5)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>sw(6-10)(1)</Y>
          <Y>sw(6-10)(2)</Y>
          <Y>sw(6-10)(3)</Y>
          <Y>sw(6-10)(4)</Y>
          <Y>sw(6-10)(5)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
    </simulation>
    <simulation name="swcon_Dannevirke401">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <Soil name="Dannevirke_40a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Typic Orthic Allophanic Soils</SoilType>
          <Region>
          </Region>
          <State>
          </State>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>0.85594999999999988</double>
            </BD>
            <AirDry>
              <double>0.28952500000000003</double>
            </AirDry>
            <LL15>
              <double>0.313</double>
            </LL15>
            <DUL>
              <double>0.56</double>
            </DUL>
            <SAT>
              <double>0.62961000000000011</double>
            </SAT>
            <KS>
              <double>960</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.313</double>
              </LL>
              <KL>
                <double>0.00022308769589997226</double>
              </KL>
              <XF>
                <double>0.022550455808510915</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.313</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>0.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>20.404</double>
            </CEC>
            <ParticleSizeSand>
              <double>13.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>67.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>20.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">swcon_Dannevirke401.out</filename>
          <title>swcon_Dannevirke401</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>dul(6-10)</variable>
            <variable>sat(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-jun</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 4
   mint = 0
   rain = 3000
   radn = 0
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 4
   mint = 0
   rain = 0
   radn = 0
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
      </area>
    </simulation>
    <simulation name="swcon_Dannevirke391">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <Soil name="Dannevirke_39a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Typic Orthic Allophanic Soils</SoilType>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <YearOfSampling>0</YearOfSampling>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>0.87714999999999987</double>
            </BD>
            <AirDry>
              <double>0.30802499999999994</double>
            </AirDry>
            <LL15>
              <double>0.33299999999999996</double>
            </LL15>
            <DUL>
              <double>0.55899999999999994</double>
            </DUL>
            <SAT>
              <double>0.62217000000000011</double>
            </SAT>
            <KS>
              <double>336</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.33299999999999996</double>
              </LL>
              <KL>
                <double>0.00019830017413330868</double>
              </KL>
              <XF>
                <double>0.02866724778592988</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.333</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>0.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>20.935</double>
            </CEC>
            <ParticleSizeSand>
              <double>20.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>55.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>25.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb>0.13</Salb>
            <CN2Bare>75</CN2Bare>
            <CNRed>20</CNRed>
            <CNCov>0.8</CNCov>
            <KDul>0.1</KDul>
            <PSIDul>-100</PSIDul>
            <VC>true</VC>
            <DTmin>0</DTmin>
            <DTmax>1440</DTmax>
            <MaxWaterIncrement>10</MaxWaterIncrement>
            <SpaceWeightingFactor>0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor>0</SoluteSpaceWeightingFactor>
            <Diagnostics>false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">swcon_Dannevirke391.out</filename>
          <title>swcon_Dannevirke391</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>dul(6-10)</variable>
            <variable>sat(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-jun</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 4
   mint = 0
   rain = 3000
   radn = 0
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 4
   mint = 0
   rain = 0
   radn = 0
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
      </area>
    </simulation>
    <simulation name="swcon_Wakanui_461">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <Soil name="Wakanui_46a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Mottled Immature Pallic Soils</SoilType>
          <Region>
          </Region>
          <State>
          </State>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>1.5423000000000002</double>
            </BD>
            <AirDry>
              <double>0.19147499999999998</double>
            </AirDry>
            <LL15>
              <double>0.207</double>
            </LL15>
            <DUL>
              <double>0.36700000000000005</double>
            </DUL>
            <SAT>
              <double>0.38874000000000003</double>
            </SAT>
            <KS>
              <double>24</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.207</double>
              </LL>
              <KL>
                <double>0.00012393760883331793</double>
              </KL>
              <XF>
                <double>0.31600412869186256</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.207</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>0.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>21.673000000000002</double>
            </CEC>
            <ParticleSizeSand>
              <double>6.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>70.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>24.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">swcon_Wakanui_461.out</filename>
          <title>swcon_Wakanui_461</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>dul(6-10)</variable>
            <variable>sat(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-jun</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 4
   mint = 0
   rain = 3000
   radn = 0
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 4
   mint = 0
   rain = 0
   radn = 0
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
      </area>
    </simulation>
    <simulation name="swcon_Oronoko1281">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <Soil name="Oronoko_128a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Typic Orthic Brown Soils</SoilType>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <YearOfSampling>0</YearOfSampling>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>1.3594499999999996</double>
            </BD>
            <AirDry>
              <double>0.21737499999999999</double>
            </AirDry>
            <LL15>
              <double>0.235</double>
            </LL15>
            <DUL>
              <double>0.382</double>
            </DUL>
            <SAT>
              <double>0.45291000000000009</double>
            </SAT>
            <KS>
              <double>480</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.235</double>
              </LL>
              <KL>
                <double>0.00019830017413330868</double>
              </KL>
              <XF>
                <double>0.046328405328162174</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.235</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>0.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>22.27</double>
            </CEC>
            <ParticleSizeSand>
              <double>15.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>55.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>30.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">swcon_Oronoko1281.out</filename>
          <title>swcon_Oronoko1281</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>dul(6-10)</variable>
            <variable>sat(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-jun</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 4
   mint = 0
   rain = 3000
   radn = 0
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 4
   mint = 0
   rain = 0
   radn = 0
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
      </area>
    </simulation>
    <simulation name="swcon_Oronoko1291">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <Soil name="Oronoko_129a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Typic Orthic Brown Soils</SoilType>
          <Region>
          </Region>
          <State>
          </State>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>1.47605</double>
            </BD>
            <AirDry>
              <double>0.0888</double>
            </AirDry>
            <LL15>
              <double>0.096</double>
            </LL15>
            <DUL>
              <double>0.265</double>
            </DUL>
            <SAT>
              <double>0.41199</double>
            </SAT>
            <KS>
              <double>960</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.096</double>
              </LL>
              <KL>
                <double>0.00022308769589997226</double>
              </KL>
              <XF>
                <double>0.022550455808510915</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.096</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>0.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>16.26</double>
            </CEC>
            <ParticleSizeSand>
              <double>45.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>45.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>10.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">swcon_Oronoko1291.out</filename>
          <title>swcon_Oronoko1291</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>dul(6-10)</variable>
            <variable>sat(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-jun</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 4
   mint = 0
   rain = 3000
   radn = 0
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 4
   mint = 0
   rain = 0
   radn = 0
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
      </area>
    </simulation>
    <simulation name="swcon_Fork81">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <Soil name="Fork_8a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Typic Orthic Brown Soils</SoilType>
          <Region>
          </Region>
          <State>
          </State>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>2.253984</double>
            </BD>
            <AirDry>
              <double>0.012728</double>
            </AirDry>
            <LL15>
              <double>0.01376</double>
            </LL15>
            <DUL>
              <double>0.0464</double>
            </DUL>
            <SAT>
              <double>0.13897920000000003</double>
            </SAT>
            <KS>
              <double>2400</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.01376</double>
              </LL>
              <KL>
                <double>0.00019830017413330868</double>
              </KL>
              <XF>
                <double>0.058894945909171818</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.014</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>68.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>12.38</double>
            </CEC>
            <ParticleSizeSand>
              <double>85.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>11.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>4.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">swcon_Fork81.out</filename>
          <title>swcon_Fork81</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>dul(6-10)</variable>
            <variable>sat(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-jun</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 4
   mint = 0
   rain = 3000
   radn = 0
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 4
   mint = 0
   rain = 0
   radn = 0
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
      </area>
    </simulation>
    <simulation name="swcon_Glasnevin131">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <Soil name="Glasnevin_13a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Typic Immature Pallic Soils</SoilType>
          <Region>
          </Region>
          <State>
          </State>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>2.0312249999999996</double>
            </BD>
            <AirDry>
              <double>0.0814</double>
            </AirDry>
            <LL15>
              <double>0.088000000000000009</double>
            </LL15>
            <DUL>
              <double>0.157</double>
            </DUL>
            <SAT>
              <double>0.21715500000000004</double>
            </SAT>
            <KS>
              <double>120</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.088000000000000009</double>
              </LL>
              <KL>
                <double>0.00018590641324997689</double>
              </KL>
              <XF>
                <double>0.074870149945259742</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.088</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>50.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>19.26</double>
            </CEC>
            <ParticleSizeSand>
              <double>45.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>30.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>25.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">swcon_Glasnevin131.out</filename>
          <title>swcon_Glasnevin131</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>dul(6-10)</variable>
            <variable>sat(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-jun</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 4
   mint = 0
   rain = 3000
   radn = 0
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 4
   mint = 0
   rain = 0
   radn = 0
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
      </area>
    </simulation>
    <simulation name="swcon_Mandamus321">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <Soil name="Mandamus_32a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Typic Orthic Brown Soils</SoilType>
          <Region>
          </Region>
          <State>
          </State>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>2.1443799999999995</double>
            </BD>
            <AirDry>
              <double>0.03071</double>
            </AirDry>
            <LL15>
              <double>0.0332</double>
            </LL15>
            <DUL>
              <double>0.090400000000000008</double>
            </DUL>
            <SAT>
              <double>0.17744400000000005</double>
            </SAT>
            <KS>
              <double>1200</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.0332</double>
              </LL>
              <KL>
                <double>0.00022308769589997226</double>
              </KL>
              <XF>
                <double>0.022550455808510915</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.033</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>60.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>14.585</double>
            </CEC>
            <ParticleSizeSand>
              <double>70.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>20.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>10.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">swcon_Mandamus321.out</filename>
          <title>swcon_Mandamus321</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>dul(6-10)</variable>
            <variable>sat(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-jun</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 4
   mint = 0
   rain = 3000
   radn = 0
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 4
   mint = 0
   rain = 0
   radn = 0
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
      </area>
    </simulation>
    <simulation name="swcon_ApsimVYc11">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <Soil name="ApsimVYc_1a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Acidic Orthic Brown Soils</SoilType>
          <Region>
          </Region>
          <State>
          </State>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <LayerStructure>
            <Thickness>
              <double>10</double>
              <double>20</double>
              <double>30</double>
              <double>40</double>
              <double>122</double>
              <double>122</double>
              <double>122.00000000000003</double>
              <double>121.99999999999996</double>
              <double>122.00000000000003</double>
              <double>122.00000000000003</double>
              <double>122.00000000000003</double>
              <double>121.99999999999989</double>
              <double>122.00000000000003</double>
              <double>122.00000000000003</double>
              <double>121.99999999999989</double>
              <double>122.00000000000017</double>
              <double>121.99999999999989</double>
              <double>122.00000000000017</double>
              <double>121.99999999999989</double>
              <double>50</double>
              <double>20</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>2.0215525</double>
            </BD>
            <AirDry>
              <double>0.111555</double>
            </AirDry>
            <LL15>
              <double>0.1206</double>
            </LL15>
            <DUL>
              <double>0.17504999999999998</double>
            </DUL>
            <SAT>
              <double>0.22054950000000007</double>
            </SAT>
            <KS>
              <double>48</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.1206</double>
              </LL>
              <KL>
                <double>0.00018590641324997689</double>
              </KL>
              <XF>
                <double>0.058894945909171818</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.021</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>55.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>24.87</double>
            </CEC>
            <ParticleSizeSand>
              <double>15.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>42.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>43.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">swcon_ApsimVYc11.out</filename>
          <title>swcon_ApsimVYc11</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>dul(6-10)</variable>
            <variable>sat(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-jun</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 4
   mint = 0
   rain = 3000
   radn = 0
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 4
   mint = 0
   rain = 0
   radn = 0
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
      </area>
    </simulation>
    <simulation name="swcon_Rangitata671">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <Soil name="Rangitata_67a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Typic Fluvial Recent Soils</SoilType>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <YearOfSampling>0</YearOfSampling>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>2.34525</double>
            </BD>
            <AirDry>
              <double>0.0061049999999999993</double>
            </AirDry>
            <LL15>
              <double>0.0066</double>
            </LL15>
            <DUL>
              <double>0.029000000000000005</double>
            </DUL>
            <SAT>
              <double>0.10695000000000002</double>
            </SAT>
            <KS>
              <double>3600</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.0066</double>
              </LL>
              <KL>
                <double>0.00019830017413330868</double>
              </KL>
              <XF>
                <double>0.074870149945259742</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.007</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>80.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>11.645000000000001</double>
            </CEC>
            <ParticleSizeSand>
              <double>90.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>8.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>2.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <DepthWetSoil>NaN</DepthWetSoil>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">swcon_Rangitata671.out</filename>
          <title>swcon_Rangitata671</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>dul(6-10)</variable>
            <variable>sat(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-jun</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 4
   mint = 0
   rain = 3000
   radn = 0
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 4
   mint = 0
   rain = 0
   radn = 0
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
      </area>
    </simulation>
    <simulation name="swcon_Mataikona301">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <Soil name="Mataikona_30a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Acidic Orthic Brown Soils</SoilType>
          <Region>
          </Region>
          <State>
          </State>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>1.3356</double>
            </BD>
            <AirDry>
              <double>0.26455</double>
            </AirDry>
            <LL15>
              <double>0.28600000000000003</double>
            </LL15>
            <DUL>
              <double>0.39799999999999996</double>
            </DUL>
            <SAT>
              <double>0.46128000000000008</double>
            </SAT>
            <KS>
              <double>360</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.28600000000000003</double>
              </LL>
              <KL>
                <double>0.00018590641324997689</double>
              </KL>
              <XF>
                <double>0.046328405328162174</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.286</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>0.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>24.605000000000004</double>
            </CEC>
            <ParticleSizeSand>
              <double>10.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>50.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>40.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">swcon_Mataikona301.out</filename>
          <title>swcon_Mataikona301</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>dul(6-10)</variable>
            <variable>sat(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-jun</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 4
   mint = 0
   rain = 3000
   radn = 0
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 4
   mint = 0
   rain = 0
   radn = 0
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
      </area>
    </simulation>
    <simulation name="swcon_Ayreburn171">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <Soil name="Ayreburn_17a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Argillic Orthic Gley Soils</SoilType>
          <Region>
          </Region>
          <State>
          </State>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>1.0759</double>
            </BD>
            <AirDry>
              <double>0.300625</double>
            </AirDry>
            <LL15>
              <double>0.325</double>
            </LL15>
            <DUL>
              <double>0.528</double>
            </DUL>
            <SAT>
              <double>0.55242</double>
            </SAT>
            <KS>
              <double>72</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.325</double>
              </LL>
              <KL>
                <double>0.00014872513059998151</double>
              </KL>
              <XF>
                <double>0.12099573281487792</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.325</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>0.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>27.739</double>
            </CEC>
            <ParticleSizeSand>
              <double>8.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>37.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>55.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">swcon_Ayreburn171.out</filename>
          <title>swcon_Ayreburn171</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>dul(6-10)</variable>
            <variable>sat(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-jun</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 4
   mint = 0
   rain = 3000
   radn = 0
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 4
   mint = 0
   rain = 0
   radn = 0
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
      </area>
    </simulation>
    <simulation name="swcon_Otorohanga571">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <Soil name="Otorohanga_57a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Typic Orthic Allophanic Soils</SoilType>
          <Region>
          </Region>
          <State>
          </State>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <memo name="Warning_MissingParameters">Smap was not able to supply a complete set of parameters. You will need to provide your own estimation for these parameters to make the soil operational.  See the memo under Water section for further details.</memo>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>0.8294499999999998</double>
            </BD>
            <AirDry>
              <double>0.259</double>
            </AirDry>
            <LL15>
              <double>0.28</double>
            </LL15>
            <DUL>
              <double>0.508</double>
            </DUL>
            <SAT>
              <double>0.63891000000000009</double>
            </SAT>
            <KS>
              <double>960</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.28</double>
              </LL>
              <KL>
                <double>0.00018590641324997689</double>
              </KL>
              <XF>
                <double>0.058894945909171818</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.28</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
            <memo name="Handling_MissingParameters">The following tags are missing Smap parameters: KS. You will need to provide your own estimation for the parameters with the dummy -12345.67 value.</memo>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>0.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>19.26</double>
            </CEC>
            <ParticleSizeSand>
              <double>45.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>30.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>25.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">swcon_Otorohanga571.out</filename>
          <title>swcon_Otorohanga571</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>dul(6-10)</variable>
            <variable>sat(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-jun</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 4
   mint = 0
   rain = 3000
   radn = 0
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 4
   mint = 0
   rain = 0
   radn = 0
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
      </area>
    </simulation>
    <simulation name="swcon_Turangi401">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <Soil name="Turangi_40a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Typic Orthic Pumice Soils</SoilType>
          <Region>
          </Region>
          <State>
          </State>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <memo name="Warning_MissingParameters">Smap was not able to supply a complete set of parameters. You will need to provide your own estimation for these parameters to make the soil operational.  See the memo under Water section for further details.</memo>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>1.0918</double>
            </BD>
            <AirDry>
              <double>0.061975000000000009</double>
            </AirDry>
            <LL15>
              <double>0.067</double>
            </LL15>
            <DUL>
              <double>0.214</double>
            </DUL>
            <SAT>
              <double>0.54684</double>
            </SAT>
            <KS>
              <double>1920</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.067</double>
              </LL>
              <KL>
                <double>0.00022308769589997226</double>
              </KL>
              <XF>
                <double>0.022550455808510915</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.067</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
            <memo name="Handling_MissingParameters">The following tags are missing Smap parameters: KS. You will need to provide your own estimation for the parameters with the dummy -12345.67 value.</memo>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>0.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>11.979000000000001</double>
            </CEC>
            <ParticleSizeSand>
              <double>88.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>9.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>3.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">swcon_Turangi401.out</filename>
          <title>swcon_Turangi401</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>dul(6-10)</variable>
            <variable>sat(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-jun</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 4
   mint = 0
   rain = 3000
   radn = 0
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 4
   mint = 0
   rain = 0
   radn = 0
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
      </area>
    </simulation>
    <simulation name="swcon_Taupo971">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <Soil name="Taupo_97a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Immature Orthic Pumice Soils</SoilType>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <YearOfSampling>0</YearOfSampling>
          <memo name="Warning_MissingParameters">Smap was not able to supply a complete set of parameters. You will need to provide your own estimation for these parameters to make the soil operational.  See the memo under Water section for further details.</memo>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>1.0971</double>
            </BD>
            <AirDry>
              <double>0.0555</double>
            </AirDry>
            <LL15>
              <double>0.06</double>
            </LL15>
            <DUL>
              <double>0.212</double>
            </DUL>
            <SAT>
              <double>0.54498</double>
            </SAT>
            <KS>
              <double>2400</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.06</double>
              </LL>
              <KL>
                <double>0.00022308769589997226</double>
              </KL>
              <XF>
                <double>0.036443214389916538</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.06</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
            <memo name="Handling_MissingParameters">The following tags are missing Smap parameters: KS. You will need to provide your own estimation for the parameters with the dummy -12345.67 value.</memo>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>0.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>11.980000000000002</double>
            </CEC>
            <ParticleSizeSand>
              <double>85.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>13.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>2.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">swcon_Taupo971.out</filename>
          <title>swcon_Taupo971</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>dul(6-10)</variable>
            <variable>sat(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-jun</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 4
   mint = 0
   rain = 3000
   radn = 0
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 4
   mint = 0
   rain = 0
   radn = 0
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
      </area>
    </simulation>
    <simulation name="swcon_TeToka81">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <Soil name="Te Toka_8a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Typic Orthic Pumice Soils</SoilType>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <YearOfSampling>0</YearOfSampling>
          <memo name="Warning_MissingParameters">Smap was not able to supply a complete set of parameters. You will need to provide your own estimation for these parameters to make the soil operational.  See the memo under Water section for further details.</memo>
          <LayerStructure>
            <Thickness>
              <double>10</double>
              <double>20</double>
              <double>30</double>
              <double>40</double>
              <double>122</double>
              <double>122</double>
              <double>122.00000000000003</double>
              <double>121.99999999999996</double>
              <double>122.00000000000003</double>
              <double>122.00000000000003</double>
              <double>122.00000000000003</double>
              <double>121.99999999999989</double>
              <double>122.00000000000003</double>
              <double>122.00000000000003</double>
              <double>121.99999999999989</double>
              <double>122.00000000000017</double>
              <double>121.99999999999989</double>
              <double>122.00000000000017</double>
              <double>121.99999999999989</double>
              <double>50</double>
              <double>20</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>0.92485000000000017</double>
            </BD>
            <AirDry>
              <double>0.22385000000000002</double>
            </AirDry>
            <LL15>
              <double>0.242</double>
            </LL15>
            <DUL>
              <double>0.43700000000000006</double>
            </DUL>
            <SAT>
              <double>0.60543</double>
            </SAT>
            <KS>
              <double>1920</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.242</double>
              </LL>
              <KL>
                <double>0.00022308769589997226</double>
              </KL>
              <XF>
                <double>0.022550455808510915</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.242</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
            <memo name="Handling_MissingParameters">The following tags are missing Smap parameters: KS. You will need to provide your own estimation for the parameters with the dummy -12345.67 value.</memo>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>0.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>17.19</double>
            </CEC>
            <ParticleSizeSand>
              <double>55.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>27.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>18.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">swcon_TeToka81.out</filename>
          <title>swcon_TeToka81</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>dul(6-10)</variable>
            <variable>sat(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-jun</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 4
   mint = 0
   rain = 3000
   radn = 0
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 4
   mint = 0
   rain = 0
   radn = 0
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
      </area>
    </simulation>
  </folder>
  <folder name="KL">
    <simulation name="kl_Awatere192">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <outputfile>
          <filename output="yes">kl_Awatere192.out</filename>
          <title>kl_Awatere192</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>cover_green</variable>
            <variable>root_depth</variable>
            <variable>rlv(6-10)</variable>
            <variable>ep</variable>
            <variable>pet_total</variable>
            <variable>irrigation</variable>
            <variable>dul(6-10)</variable>
            <variable>ll15(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
        <slurp />
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-sep</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
        <manager name="Sow on a fixed date">
          <ui>
            <category type="category" description="Sowing criteria" />
            <date type="text" description="Enter sowing date (dd-mmm) : ">1-jun</date>
            <category type="category" description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">wheat</crop>
            <density type="text" description="Enter sowing density  (plants/m2) : ">250</density>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">Wakaniu</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <row_spacing type="text" description="Enter row spacing (mm) : ">15</row_spacing>
          </ui>
          <script>
            <text>
        if (today = date('[date]') then
              [crop] sow plants =[density], sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
         endif
               </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category type="category" description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">15-sep</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">5000</fert_criteria>
            <category type="category" description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">Fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">1000</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea, nh4so4_n, rock_p, banded_p, broadcast_p" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script>
            <text>
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil &lt; [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <wheat>
          <ModifyKL type="yesno" description="Modify KL using CL, EC or ESP if found?">yes</ModifyKL>
          <MaxRootDepth description="Maximum rooting depth (mm) 0=no restriction">0</MaxRootDepth>
        </wheat>
        <fertiliser name="Fertiliser" />
        <micromet name="Micromet">
          <soilalbedo name="soilalbedo">0.23</soilalbedo>
          <a_interception name="a_interception">0.0</a_interception>
          <b_interception name="b_interception">0.0</b_interception>
          <c_interception name="c_interception">0.0</c_interception>
          <d_interception name="d_interception">0.0</d_interception>
        </micromet>
        <irrigation name="Irrigation">
          <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
          <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
          <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">.99</crit_fr_asw>
          <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
          <irrigation_allocation type="list" listvalues="on,off" description="Allocation limits">off</irrigation_allocation>
          <allocation type="text" description="Allocation in mm">0</allocation>
          <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
          <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
          <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
        </irrigation>
        <manager2 name="Irrigate on sw deficit">
          <ui>
            <deficit type="text" description="Irrigate when soil water deficit reaches this amount (mm)">1</deficit>
            <eff type="text" description="Irrigation efficiency (0-1)">1.0</eff>
            <start type="text" description="The earliest date irrigation will be applied (dd-mmm)">1-jun</start>
            <end type="text" description="The latest date irrigation will be applied (dd-mmm)">15-Sep</end>
            <maxlayer type="text" description="The deficit will be calculated to this soil layer (0 for full profile)">15</maxlayer>
            <amount type="text" description="Amount of irrigation to apply (0 for deficit)">0</amount>
          </ui>
          <text>using System;
using ModelFramework;
using CSGeneral;

public class Script 
{      
   [Link] Irrigation Irrigation; 
   [Input] DateTime today;
   [Input] double[] dul_dep;     //drained upper limit (field capacity) 
   [Input] double[] sw_dep;      //soil water
   [Input] double[] ll15_dep;    //15 bar lower limit
   [Param] int deficit;          //allowable soil water deficit
   [Param] double eff;           //irrigation efficiency
   [Param] string start;         //no irrigation will be applied before this date
   [Param] string end;           //no irrigation will be applied after this date
   [Param] int maxlayer;         //calculate soil water deficit to this layer (inclusive)
   [Param] int amount;
   [Output] double totalSWD;     //total soil water deficit for given layers
   
   private double[] DulDep;
   private double[] SwDep;
   private double[] LL15Dep;
   private double[] SWD;
   
   [EventHandler] public void OnInitialised()
   {
      DulDep = new double[dul_dep.Length];
      SwDep = new double[dul_dep.Length];
      LL15Dep = new double[dul_dep.Length];
      SWD = new double[dul_dep.Length];
      
      if (maxlayer &gt; dul_dep.Length)
      {
         Console.WriteLine("Warning: max layer is greater than number of layers.");
         Console.WriteLine("Using full profile for soil water deficit calculations.");
         maxlayer = 0;
      }
   }
     
   // The following event handler will be called each day at the beginning of the day
   [EventHandler] public void OnPrepare()
   {
      for (int i = 0; i &lt; (maxlayer &gt; 0 ? maxlayer : dul_dep.Length); i++)
      {
         SWD[i] = dul_dep[i] - sw_dep[i];
      }
      totalSWD = MathUtility.Sum(SWD);
      
      //if the soil water deficit is higer than the allowed deficit, and today is within the irrigation window
      if (totalSWD &gt; deficit &amp;&amp; DateUtility.WithinDates(start, today, end))
      {
         IrrigationApplicationType data = new IrrigationApplicationType(); //using a type means we can use defaults for values we don't change
         data.Amount = (int)totalSWD;
         Irrigation.Set("irrigation_efficiency", eff);
         Irrigation.Apply(data);
      }
   }  
}
       </text>
        </manager2>
        <Soil name="Awatere_19a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Typic Fluvial Recent Soils</SoilType>
          <Region>
          </Region>
          <State>
          </State>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <LayerStructure>
            <Thickness>
              <double>10</double>
              <double>20</double>
              <double>30</double>
              <double>40</double>
              <double>122</double>
              <double>122</double>
              <double>122.00000000000003</double>
              <double>121.99999999999996</double>
              <double>122.00000000000003</double>
              <double>122.00000000000003</double>
              <double>122.00000000000003</double>
              <double>121.99999999999989</double>
              <double>122.00000000000003</double>
              <double>122.00000000000003</double>
              <double>121.99999999999989</double>
              <double>122.00000000000017</double>
              <double>121.99999999999989</double>
              <double>122.00000000000017</double>
              <double>121.99999999999989</double>
              <double>50</double>
              <double>20</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>1.1606999999999998</double>
            </BD>
            <AirDry>
              <double>0.030525000000000004</double>
            </AirDry>
            <LL15>
              <double>0.033</double>
            </LL15>
            <DUL>
              <double>0.149</double>
            </DUL>
            <SAT>
              <double>0.52266000000000012</double>
            </SAT>
            <KS>
              <double>2400</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.033</double>
              </LL>
              <KL>
                <double>0.00019830017413330868</double>
              </KL>
              <XF>
                <double>0.046328405328162174</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.033</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>0.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>11.779000000000002</double>
            </CEC>
            <ParticleSizeSand>
              <double>88.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>10.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>2.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
      </area>
      <Graph name="CoverGreen">
        <Legend>
          <CheckedTitles> root_depth</CheckedTitles>
          <CheckedTitles> cover_green</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>root_depth</Y>
          <YRight>cover_green</YRight>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="RootLength">
        <Legend>
          <CheckedTitles> rlv(1)</CheckedTitles>
          <CheckedTitles> rlv(2)</CheckedTitles>
          <CheckedTitles> rlv(3)</CheckedTitles>
          <CheckedTitles> rlv(4)</CheckedTitles>
          <CheckedTitles> rlv(5)</CheckedTitles>
          <CheckedTitles> rlv(6)</CheckedTitles>
          <CheckedTitles> rlv(7)</CheckedTitles>
          <CheckedTitles> rlv(8)</CheckedTitles>
          <CheckedTitles> rlv(9)</CheckedTitles>
          <CheckedTitles> rlv(10)</CheckedTitles>
          <CheckedTitles> rlv(11)</CheckedTitles>
          <CheckedTitles> rlv(12)</CheckedTitles>
          <CheckedTitles> rlv(13)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>rlv(1)</Y>
          <Y>rlv(2)</Y>
          <Y>rlv(3)</Y>
          <Y>rlv(4)</Y>
          <Y>rlv(5)</Y>
          <Y>rlv(6)</Y>
          <Y>rlv(7)</Y>
          <Y>rlv(8)</Y>
          <Y>rlv(9)</Y>
          <Y>rlv(10)</Y>
          <Y>rlv(11)</Y>
          <Y>rlv(12)</Y>
          <Y>rlv(13)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="SWC layers">
        <Legend>
          <CheckedTitles> sw(6-10)(1)</CheckedTitles>
          <CheckedTitles> sw(6-10)(2)</CheckedTitles>
          <CheckedTitles> sw(6-10)(3)</CheckedTitles>
          <CheckedTitles> sw(6-10)(4)</CheckedTitles>
          <CheckedTitles> sw(6-10)(5)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>sw(6-10)(1)</Y>
          <Y>sw(6-10)(2)</Y>
          <Y>sw(6-10)(3)</Y>
          <Y>sw(6-10)(4)</Y>
          <Y>sw(6-10)(5)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="EP">
        <Legend>
          <CheckedTitles> kl_awatere</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>ep</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
    </simulation>
    <simulation name="kl_Waikuku272">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <slurp />
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-sep</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
        <manager name="Sow on a fixed date">
          <ui>
            <category type="category" description="Sowing criteria" />
            <date type="text" description="Enter sowing date (dd-mmm) : ">1-jun</date>
            <category type="category" description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">wheat</crop>
            <density type="text" description="Enter sowing density  (plants/m2) : ">250</density>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">Wakaniu</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <row_spacing type="text" description="Enter row spacing (mm) : ">15</row_spacing>
          </ui>
          <script>
            <text>
        if (today = date('[date]') then
              [crop] sow plants =[density], sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
         endif
               </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category type="category" description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">15-sep</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">5000</fert_criteria>
            <category type="category" description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">Fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">1000</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea, nh4so4_n, rock_p, banded_p, broadcast_p" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script>
            <text>
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil &lt; [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <wheat>
          <ModifyKL type="yesno" description="Modify KL using CL, EC or ESP if found?">yes</ModifyKL>
          <MaxRootDepth description="Maximum rooting depth (mm) 0=no restriction">0</MaxRootDepth>
        </wheat>
        <fertiliser name="Fertiliser" />
        <micromet name="Micromet">
          <soilalbedo name="soilalbedo">0.23</soilalbedo>
          <a_interception name="a_interception">0.0</a_interception>
          <b_interception name="b_interception">0.0</b_interception>
          <c_interception name="c_interception">0.0</c_interception>
          <d_interception name="d_interception">0.0</d_interception>
        </micromet>
        <irrigation name="Irrigation">
          <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
          <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
          <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">.99</crit_fr_asw>
          <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
          <irrigation_allocation type="list" listvalues="on,off" description="Allocation limits">off</irrigation_allocation>
          <allocation type="text" description="Allocation in mm">0</allocation>
          <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
          <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
          <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
        </irrigation>
        <manager2 name="Irrigate on sw deficit">
          <ui>
            <deficit type="text" description="Irrigate when soil water deficit reaches this amount (mm)">1</deficit>
            <eff type="text" description="Irrigation efficiency (0-1)">1.0</eff>
            <start type="text" description="The earliest date irrigation will be applied (dd-mmm)">1-jun</start>
            <end type="text" description="The latest date irrigation will be applied (dd-mmm)">15-Sep</end>
            <maxlayer type="text" description="The deficit will be calculated to this soil layer (0 for full profile)">15</maxlayer>
            <amount type="text" description="Amount of irrigation to apply (0 for deficit)">0</amount>
          </ui>
          <text>using System;
using ModelFramework;
using CSGeneral;

public class Script 
{      
   [Link] Irrigation Irrigation; 
   [Input] DateTime today;
   [Input] double[] dul_dep;     //drained upper limit (field capacity) 
   [Input] double[] sw_dep;      //soil water
   [Input] double[] ll15_dep;    //15 bar lower limit
   [Param] int deficit;          //allowable soil water deficit
   [Param] double eff;           //irrigation efficiency
   [Param] string start;         //no irrigation will be applied before this date
   [Param] string end;           //no irrigation will be applied after this date
   [Param] int maxlayer;         //calculate soil water deficit to this layer (inclusive)
   [Param] int amount;
   [Output] double totalSWD;     //total soil water deficit for given layers
   
   private double[] DulDep;
   private double[] SwDep;
   private double[] LL15Dep;
   private double[] SWD;
   
   [EventHandler] public void OnInitialised()
   {
      DulDep = new double[dul_dep.Length];
      SwDep = new double[dul_dep.Length];
      LL15Dep = new double[dul_dep.Length];
      SWD = new double[dul_dep.Length];
      
      if (maxlayer &gt; dul_dep.Length)
      {
         Console.WriteLine("Warning: max layer is greater than number of layers.");
         Console.WriteLine("Using full profile for soil water deficit calculations.");
         maxlayer = 0;
      }
   }
     
   // The following event handler will be called each day at the beginning of the day
   [EventHandler] public void OnPrepare()
   {
      for (int i = 0; i &lt; (maxlayer &gt; 0 ? maxlayer : dul_dep.Length); i++)
      {
         SWD[i] = dul_dep[i] - sw_dep[i];
      }
      totalSWD = MathUtility.Sum(SWD);
      
      //if the soil water deficit is higer than the allowed deficit, and today is within the irrigation window
      if (totalSWD &gt; deficit &amp;&amp; DateUtility.WithinDates(start, today, end))
      {
         IrrigationApplicationType data = new IrrigationApplicationType(); //using a type means we can use defaults for values we don't change
         data.Amount = (int)totalSWD;
         Irrigation.Set("irrigation_efficiency", eff);
         Irrigation.Apply(data);
      }
   }  
}
       </text>
        </manager2>
        <Soil name="Waikuku_27a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Typic Sandy Brown Soils</SoilType>
          <Region>
          </Region>
          <State>
          </State>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>1.4098</double>
            </BD>
            <AirDry>
              <double>0.04255</double>
            </AirDry>
            <LL15>
              <double>0.046</double>
            </LL15>
            <DUL>
              <double>0.15</double>
            </DUL>
            <SAT>
              <double>0.43524</double>
            </SAT>
            <KS>
              <double>1200</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.046</double>
              </LL>
              <KL>
                <double>0.00022308769589997226</double>
              </KL>
              <XF>
                <double>0.046328405328162174</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.046</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>0.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>12.6135</double>
            </CEC>
            <ParticleSizeSand>
              <double>84.5</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>10.5</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>5.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">kl_Waikuku272.out</filename>
          <title>kl_Waikuku272</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>cover_green</variable>
            <variable>root_depth</variable>
            <variable>rlv(6-10)</variable>
            <variable>ep</variable>
            <variable>pet_total</variable>
            <variable>irrigation</variable>
            <variable>dul(6-10)</variable>
            <variable>ll15(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
      </area>
      <Graph name="CoverGreen">
        <Legend>
          <CheckedTitles> root_depth</CheckedTitles>
          <CheckedTitles> cover_green</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>root_depth</Y>
          <YRight>cover_green</YRight>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="RootLength">
        <Legend>
          <CheckedTitles> rlv(1)</CheckedTitles>
          <CheckedTitles> rlv(2)</CheckedTitles>
          <CheckedTitles> rlv(3)</CheckedTitles>
          <CheckedTitles> rlv(4)</CheckedTitles>
          <CheckedTitles> rlv(5)</CheckedTitles>
          <CheckedTitles> rlv(6)</CheckedTitles>
          <CheckedTitles> rlv(7)</CheckedTitles>
          <CheckedTitles> rlv(8)</CheckedTitles>
          <CheckedTitles> rlv(9)</CheckedTitles>
          <CheckedTitles> rlv(10)</CheckedTitles>
          <CheckedTitles> rlv(11)</CheckedTitles>
          <CheckedTitles> rlv(12)</CheckedTitles>
          <CheckedTitles> rlv(13)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>rlv(1)</Y>
          <Y>rlv(2)</Y>
          <Y>rlv(3)</Y>
          <Y>rlv(4)</Y>
          <Y>rlv(5)</Y>
          <Y>rlv(6)</Y>
          <Y>rlv(7)</Y>
          <Y>rlv(8)</Y>
          <Y>rlv(9)</Y>
          <Y>rlv(10)</Y>
          <Y>rlv(11)</Y>
          <Y>rlv(12)</Y>
          <Y>rlv(13)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="SWC layers">
        <Legend>
          <CheckedTitles> sw(6)</CheckedTitles>
          <CheckedTitles> sw(7)</CheckedTitles>
          <CheckedTitles> sw(8)</CheckedTitles>
          <CheckedTitles> sw(9)</CheckedTitles>
          <CheckedTitles> sw(10)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>sw(1)</Y>
          <Y>sw(2)</Y>
          <Y>sw(3)</Y>
          <Y>sw(4)</Y>
          <Y>sw(5)</Y>
          <Y>sw(6)</Y>
          <Y>sw(7)</Y>
          <Y>sw(8)</Y>
          <Y>sw(9)</Y>
          <Y>sw(10)</Y>
          <Y>sw(11)</Y>
          <Y>sw(12)</Y>
          <Y>sw(13)</Y>
          <Y>sw(14)</Y>
          <Y>sw(15)</Y>
          <Y>sw(16)</Y>
          <Y>sw(17)</Y>
          <Y>sw(18)</Y>
          <Y>sw(19)</Y>
          <Y>sw(20)</Y>
          <Y>sw(21)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="EP">
        <Legend>
          <CheckedTitles> kl_waikuku</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>ep</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
    </simulation>
    <simulation name="kl_Dannevirke402">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <slurp />
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-sep</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
        <manager name="Sow on a fixed date">
          <ui>
            <category type="category" description="Sowing criteria" />
            <date type="text" description="Enter sowing date (dd-mmm) : ">1-jun</date>
            <category type="category" description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">wheat</crop>
            <density type="text" description="Enter sowing density  (plants/m2) : ">250</density>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">Wakaniu</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <row_spacing type="text" description="Enter row spacing (mm) : ">15</row_spacing>
          </ui>
          <script>
            <text>
        if (today = date('[date]') then
              [crop] sow plants =[density], sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
         endif
               </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category type="category" description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">15-sep</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">5000</fert_criteria>
            <category type="category" description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">Fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">1000</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea, nh4so4_n, rock_p, banded_p, broadcast_p" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script>
            <text>
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil &lt; [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <wheat>
          <ModifyKL type="yesno" description="Modify KL using CL, EC or ESP if found?">yes</ModifyKL>
          <MaxRootDepth description="Maximum rooting depth (mm) 0=no restriction">0</MaxRootDepth>
        </wheat>
        <fertiliser name="Fertiliser" />
        <micromet name="Micromet">
          <soilalbedo name="soilalbedo">0.23</soilalbedo>
          <a_interception name="a_interception">0.0</a_interception>
          <b_interception name="b_interception">0.0</b_interception>
          <c_interception name="c_interception">0.0</c_interception>
          <d_interception name="d_interception">0.0</d_interception>
        </micromet>
        <irrigation name="Irrigation">
          <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
          <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
          <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">.99</crit_fr_asw>
          <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
          <irrigation_allocation type="list" listvalues="on,off" description="Allocation limits">off</irrigation_allocation>
          <allocation type="text" description="Allocation in mm">0</allocation>
          <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
          <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
          <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
        </irrigation>
        <manager2 name="Irrigate on sw deficit">
          <ui>
            <deficit type="text" description="Irrigate when soil water deficit reaches this amount (mm)">1</deficit>
            <eff type="text" description="Irrigation efficiency (0-1)">1.0</eff>
            <start type="text" description="The earliest date irrigation will be applied (dd-mmm)">1-jun</start>
            <end type="text" description="The latest date irrigation will be applied (dd-mmm)">15-Sep</end>
            <maxlayer type="text" description="The deficit will be calculated to this soil layer (0 for full profile)">15</maxlayer>
            <amount type="text" description="Amount of irrigation to apply (0 for deficit)">0</amount>
          </ui>
          <text>using System;
using ModelFramework;
using CSGeneral;

public class Script 
{      
   [Link] Irrigation Irrigation; 
   [Input] DateTime today;
   [Input] double[] dul_dep;     //drained upper limit (field capacity) 
   [Input] double[] sw_dep;      //soil water
   [Input] double[] ll15_dep;    //15 bar lower limit
   [Param] int deficit;          //allowable soil water deficit
   [Param] double eff;           //irrigation efficiency
   [Param] string start;         //no irrigation will be applied before this date
   [Param] string end;           //no irrigation will be applied after this date
   [Param] int maxlayer;         //calculate soil water deficit to this layer (inclusive)
   [Param] int amount;
   [Output] double totalSWD;     //total soil water deficit for given layers
   
   private double[] DulDep;
   private double[] SwDep;
   private double[] LL15Dep;
   private double[] SWD;
   
   [EventHandler] public void OnInitialised()
   {
      DulDep = new double[dul_dep.Length];
      SwDep = new double[dul_dep.Length];
      LL15Dep = new double[dul_dep.Length];
      SWD = new double[dul_dep.Length];
      
      if (maxlayer &gt; dul_dep.Length)
      {
         Console.WriteLine("Warning: max layer is greater than number of layers.");
         Console.WriteLine("Using full profile for soil water deficit calculations.");
         maxlayer = 0;
      }
   }
     
   // The following event handler will be called each day at the beginning of the day
   [EventHandler] public void OnPrepare()
   {
      for (int i = 0; i &lt; (maxlayer &gt; 0 ? maxlayer : dul_dep.Length); i++)
      {
         SWD[i] = dul_dep[i] - sw_dep[i];
      }
      totalSWD = MathUtility.Sum(SWD);
      
      //if the soil water deficit is higer than the allowed deficit, and today is within the irrigation window
      if (totalSWD &gt; deficit &amp;&amp; DateUtility.WithinDates(start, today, end))
      {
         IrrigationApplicationType data = new IrrigationApplicationType(); //using a type means we can use defaults for values we don't change
         data.Amount = (int)totalSWD;
         Irrigation.Set("irrigation_efficiency", eff);
         Irrigation.Apply(data);
      }
   }  
}
       </text>
        </manager2>
        <Soil name="Dannevirke_40a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Typic Orthic Allophanic Soils</SoilType>
          <Region>
          </Region>
          <State>
          </State>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>0.85594999999999988</double>
            </BD>
            <AirDry>
              <double>0.28952500000000003</double>
            </AirDry>
            <LL15>
              <double>0.313</double>
            </LL15>
            <DUL>
              <double>0.56</double>
            </DUL>
            <SAT>
              <double>0.62961000000000011</double>
            </SAT>
            <KS>
              <double>960</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.313</double>
              </LL>
              <KL>
                <double>0.00022308769589997226</double>
              </KL>
              <XF>
                <double>0.022550455808510915</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.313</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>0.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>20.404</double>
            </CEC>
            <ParticleSizeSand>
              <double>13.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>67.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>20.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">kl_Dannevirke402.out</filename>
          <title>kl_Dannevirke402</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>cover_green</variable>
            <variable>root_depth</variable>
            <variable>rlv(6-10)</variable>
            <variable>ep</variable>
            <variable>pet_total</variable>
            <variable>irrigation</variable>
            <variable>dul(6-10)</variable>
            <variable>ll15(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
      </area>
      <Graph name="CoverGreen">
        <Legend>
          <CheckedTitles> root_depth</CheckedTitles>
          <CheckedTitles> cover_green</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>root_depth</Y>
          <YRight>cover_green</YRight>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="RootLength">
        <Legend>
          <CheckedTitles> rlv(1)</CheckedTitles>
          <CheckedTitles> rlv(2)</CheckedTitles>
          <CheckedTitles> rlv(3)</CheckedTitles>
          <CheckedTitles> rlv(4)</CheckedTitles>
          <CheckedTitles> rlv(5)</CheckedTitles>
          <CheckedTitles> rlv(6)</CheckedTitles>
          <CheckedTitles> rlv(7)</CheckedTitles>
          <CheckedTitles> rlv(8)</CheckedTitles>
          <CheckedTitles> rlv(9)</CheckedTitles>
          <CheckedTitles> rlv(10)</CheckedTitles>
          <CheckedTitles> rlv(11)</CheckedTitles>
          <CheckedTitles> rlv(12)</CheckedTitles>
          <CheckedTitles> rlv(13)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>rlv(1)</Y>
          <Y>rlv(2)</Y>
          <Y>rlv(3)</Y>
          <Y>rlv(4)</Y>
          <Y>rlv(5)</Y>
          <Y>rlv(6)</Y>
          <Y>rlv(7)</Y>
          <Y>rlv(8)</Y>
          <Y>rlv(9)</Y>
          <Y>rlv(10)</Y>
          <Y>rlv(11)</Y>
          <Y>rlv(12)</Y>
          <Y>rlv(13)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="SWC layers">
        <Legend>
          <CheckedTitles> sw(6)</CheckedTitles>
          <CheckedTitles> sw(7)</CheckedTitles>
          <CheckedTitles> sw(8)</CheckedTitles>
          <CheckedTitles> sw(9)</CheckedTitles>
          <CheckedTitles> sw(10)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>sw(1)</Y>
          <Y>sw(2)</Y>
          <Y>sw(3)</Y>
          <Y>sw(4)</Y>
          <Y>sw(5)</Y>
          <Y>sw(6)</Y>
          <Y>sw(7)</Y>
          <Y>sw(8)</Y>
          <Y>sw(9)</Y>
          <Y>sw(10)</Y>
          <Y>sw(11)</Y>
          <Y>sw(12)</Y>
          <Y>sw(13)</Y>
          <Y>sw(14)</Y>
          <Y>sw(15)</Y>
          <Y>sw(16)</Y>
          <Y>sw(17)</Y>
          <Y>sw(18)</Y>
          <Y>sw(19)</Y>
          <Y>sw(20)</Y>
          <Y>sw(21)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="EP">
        <Legend>
          <CheckedTitles> kl_Dannevirke40</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>ep</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
    </simulation>
    <simulation name="kl_Dannevirke392">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <slurp />
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-sep</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
        <manager name="Sow on a fixed date">
          <ui>
            <category type="category" description="Sowing criteria" />
            <date type="text" description="Enter sowing date (dd-mmm) : ">1-jun</date>
            <category type="category" description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">wheat</crop>
            <density type="text" description="Enter sowing density  (plants/m2) : ">250</density>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">Wakaniu</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <row_spacing type="text" description="Enter row spacing (mm) : ">15</row_spacing>
          </ui>
          <script>
            <text>
        if (today = date('[date]') then
              [crop] sow plants =[density], sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
         endif
               </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category type="category" description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">15-sep</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">5000</fert_criteria>
            <category type="category" description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">Fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">1000</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea, nh4so4_n, rock_p, banded_p, broadcast_p" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script>
            <text>
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil &lt; [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <wheat>
          <ModifyKL type="yesno" description="Modify KL using CL, EC or ESP if found?">yes</ModifyKL>
          <MaxRootDepth description="Maximum rooting depth (mm) 0=no restriction">0</MaxRootDepth>
        </wheat>
        <fertiliser name="Fertiliser" />
        <micromet name="Micromet">
          <soilalbedo name="soilalbedo">0.23</soilalbedo>
          <a_interception name="a_interception">0.0</a_interception>
          <b_interception name="b_interception">0.0</b_interception>
          <c_interception name="c_interception">0.0</c_interception>
          <d_interception name="d_interception">0.0</d_interception>
        </micromet>
        <irrigation name="Irrigation">
          <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
          <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
          <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">.99</crit_fr_asw>
          <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
          <irrigation_allocation type="list" listvalues="on,off" description="Allocation limits">off</irrigation_allocation>
          <allocation type="text" description="Allocation in mm">0</allocation>
          <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
          <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
          <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
        </irrigation>
        <manager2 name="Irrigate on sw deficit">
          <ui>
            <deficit type="text" description="Irrigate when soil water deficit reaches this amount (mm)">1</deficit>
            <eff type="text" description="Irrigation efficiency (0-1)">1.0</eff>
            <start type="text" description="The earliest date irrigation will be applied (dd-mmm)">1-jun</start>
            <end type="text" description="The latest date irrigation will be applied (dd-mmm)">15-Sep</end>
            <maxlayer type="text" description="The deficit will be calculated to this soil layer (0 for full profile)">15</maxlayer>
            <amount type="text" description="Amount of irrigation to apply (0 for deficit)">0</amount>
          </ui>
          <text>using System;
using ModelFramework;
using CSGeneral;

public class Script 
{      
   [Link] Irrigation Irrigation; 
   [Input] DateTime today;
   [Input] double[] dul_dep;     //drained upper limit (field capacity) 
   [Input] double[] sw_dep;      //soil water
   [Input] double[] ll15_dep;    //15 bar lower limit
   [Param] int deficit;          //allowable soil water deficit
   [Param] double eff;           //irrigation efficiency
   [Param] string start;         //no irrigation will be applied before this date
   [Param] string end;           //no irrigation will be applied after this date
   [Param] int maxlayer;         //calculate soil water deficit to this layer (inclusive)
   [Param] int amount;
   [Output] double totalSWD;     //total soil water deficit for given layers
   
   private double[] DulDep;
   private double[] SwDep;
   private double[] LL15Dep;
   private double[] SWD;
   
   [EventHandler] public void OnInitialised()
   {
      DulDep = new double[dul_dep.Length];
      SwDep = new double[dul_dep.Length];
      LL15Dep = new double[dul_dep.Length];
      SWD = new double[dul_dep.Length];
      
      if (maxlayer &gt; dul_dep.Length)
      {
         Console.WriteLine("Warning: max layer is greater than number of layers.");
         Console.WriteLine("Using full profile for soil water deficit calculations.");
         maxlayer = 0;
      }
   }
     
   // The following event handler will be called each day at the beginning of the day
   [EventHandler] public void OnPrepare()
   {
      for (int i = 0; i &lt; (maxlayer &gt; 0 ? maxlayer : dul_dep.Length); i++)
      {
         SWD[i] = dul_dep[i] - sw_dep[i];
      }
      totalSWD = MathUtility.Sum(SWD);
      
      //if the soil water deficit is higer than the allowed deficit, and today is within the irrigation window
      if (totalSWD &gt; deficit &amp;&amp; DateUtility.WithinDates(start, today, end))
      {
         IrrigationApplicationType data = new IrrigationApplicationType(); //using a type means we can use defaults for values we don't change
         data.Amount = (int)totalSWD;
         Irrigation.Set("irrigation_efficiency", eff);
         Irrigation.Apply(data);
      }
   }  
}
       </text>
        </manager2>
        <Soil name="Dannevirke_39a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Typic Orthic Allophanic Soils</SoilType>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <YearOfSampling>0</YearOfSampling>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>0.87714999999999987</double>
            </BD>
            <AirDry>
              <double>0.30802499999999994</double>
            </AirDry>
            <LL15>
              <double>0.33299999999999996</double>
            </LL15>
            <DUL>
              <double>0.55899999999999994</double>
            </DUL>
            <SAT>
              <double>0.62217000000000011</double>
            </SAT>
            <KS>
              <double>336</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.33299999999999996</double>
              </LL>
              <KL>
                <double>0.00019830017413330868</double>
              </KL>
              <XF>
                <double>0.02866724778592988</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.333</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>0.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>20.935</double>
            </CEC>
            <ParticleSizeSand>
              <double>20.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>55.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>25.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb>0.13</Salb>
            <CN2Bare>75</CN2Bare>
            <CNRed>20</CNRed>
            <CNCov>0.8</CNCov>
            <KDul>0.1</KDul>
            <PSIDul>-100</PSIDul>
            <VC>true</VC>
            <DTmin>0</DTmin>
            <DTmax>1440</DTmax>
            <MaxWaterIncrement>10</MaxWaterIncrement>
            <SpaceWeightingFactor>0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor>0</SoluteSpaceWeightingFactor>
            <Diagnostics>false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">kl_Dannevirke392.out</filename>
          <title>kl_Dannevirke392</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>cover_green</variable>
            <variable>root_depth</variable>
            <variable>rlv(6-10)</variable>
            <variable>ep</variable>
            <variable>pet_total</variable>
            <variable>irrigation</variable>
            <variable>dul(6-10)</variable>
            <variable>ll15(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
      </area>
      <Graph name="CoverGreen">
        <Legend>
          <CheckedTitles> root_depth</CheckedTitles>
          <CheckedTitles> cover_green</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>root_depth</Y>
          <YRight>cover_green</YRight>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="RootLength">
        <Legend>
          <CheckedTitles> rlv(1)</CheckedTitles>
          <CheckedTitles> rlv(2)</CheckedTitles>
          <CheckedTitles> rlv(3)</CheckedTitles>
          <CheckedTitles> rlv(4)</CheckedTitles>
          <CheckedTitles> rlv(5)</CheckedTitles>
          <CheckedTitles> rlv(6)</CheckedTitles>
          <CheckedTitles> rlv(7)</CheckedTitles>
          <CheckedTitles> rlv(8)</CheckedTitles>
          <CheckedTitles> rlv(9)</CheckedTitles>
          <CheckedTitles> rlv(10)</CheckedTitles>
          <CheckedTitles> rlv(11)</CheckedTitles>
          <CheckedTitles> rlv(12)</CheckedTitles>
          <CheckedTitles> rlv(13)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>rlv(1)</Y>
          <Y>rlv(2)</Y>
          <Y>rlv(3)</Y>
          <Y>rlv(4)</Y>
          <Y>rlv(5)</Y>
          <Y>rlv(6)</Y>
          <Y>rlv(7)</Y>
          <Y>rlv(8)</Y>
          <Y>rlv(9)</Y>
          <Y>rlv(10)</Y>
          <Y>rlv(11)</Y>
          <Y>rlv(12)</Y>
          <Y>rlv(13)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="SWC layers">
        <Legend>
          <CheckedTitles> sw(6)</CheckedTitles>
          <CheckedTitles> sw(7)</CheckedTitles>
          <CheckedTitles> sw(8)</CheckedTitles>
          <CheckedTitles> sw(9)</CheckedTitles>
          <CheckedTitles> sw(10)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>sw(1)</Y>
          <Y>sw(2)</Y>
          <Y>sw(3)</Y>
          <Y>sw(4)</Y>
          <Y>sw(5)</Y>
          <Y>sw(6)</Y>
          <Y>sw(7)</Y>
          <Y>sw(8)</Y>
          <Y>sw(9)</Y>
          <Y>sw(10)</Y>
          <Y>sw(11)</Y>
          <Y>sw(12)</Y>
          <Y>sw(13)</Y>
          <Y>sw(14)</Y>
          <Y>sw(15)</Y>
          <Y>sw(16)</Y>
          <Y>sw(17)</Y>
          <Y>sw(18)</Y>
          <Y>sw(19)</Y>
          <Y>sw(20)</Y>
          <Y>sw(21)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="EP">
        <Legend>
          <CheckedTitles> kl_Dannevirke39</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>ep</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
    </simulation>
    <simulation name="kl_Wakanui_462">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <slurp />
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-sep</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
        <manager name="Sow on a fixed date">
          <ui>
            <category type="category" description="Sowing criteria" />
            <date type="text" description="Enter sowing date (dd-mmm) : ">1-jun</date>
            <category type="category" description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">wheat</crop>
            <density type="text" description="Enter sowing density  (plants/m2) : ">250</density>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">Wakaniu</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <row_spacing type="text" description="Enter row spacing (mm) : ">15</row_spacing>
          </ui>
          <script>
            <text>
        if (today = date('[date]') then
              [crop] sow plants =[density], sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
         endif
               </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category type="category" description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">15-sep</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">5000</fert_criteria>
            <category type="category" description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">Fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">1000</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea, nh4so4_n, rock_p, banded_p, broadcast_p" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script>
            <text>
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil &lt; [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <wheat>
          <ModifyKL type="yesno" description="Modify KL using CL, EC or ESP if found?">yes</ModifyKL>
          <MaxRootDepth description="Maximum rooting depth (mm) 0=no restriction">0</MaxRootDepth>
        </wheat>
        <fertiliser name="Fertiliser" />
        <micromet name="Micromet">
          <soilalbedo name="soilalbedo">0.23</soilalbedo>
          <a_interception name="a_interception">0.0</a_interception>
          <b_interception name="b_interception">0.0</b_interception>
          <c_interception name="c_interception">0.0</c_interception>
          <d_interception name="d_interception">0.0</d_interception>
        </micromet>
        <irrigation name="Irrigation">
          <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
          <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
          <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">.99</crit_fr_asw>
          <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
          <irrigation_allocation type="list" listvalues="on,off" description="Allocation limits">off</irrigation_allocation>
          <allocation type="text" description="Allocation in mm">0</allocation>
          <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
          <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
          <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
        </irrigation>
        <manager2 name="Irrigate on sw deficit">
          <ui>
            <deficit type="text" description="Irrigate when soil water deficit reaches this amount (mm)">1</deficit>
            <eff type="text" description="Irrigation efficiency (0-1)">1.0</eff>
            <start type="text" description="The earliest date irrigation will be applied (dd-mmm)">1-jun</start>
            <end type="text" description="The latest date irrigation will be applied (dd-mmm)">15-Sep</end>
            <maxlayer type="text" description="The deficit will be calculated to this soil layer (0 for full profile)">15</maxlayer>
            <amount type="text" description="Amount of irrigation to apply (0 for deficit)">0</amount>
          </ui>
          <text>using System;
using ModelFramework;
using CSGeneral;

public class Script 
{      
   [Link] Irrigation Irrigation; 
   [Input] DateTime today;
   [Input] double[] dul_dep;     //drained upper limit (field capacity) 
   [Input] double[] sw_dep;      //soil water
   [Input] double[] ll15_dep;    //15 bar lower limit
   [Param] int deficit;          //allowable soil water deficit
   [Param] double eff;           //irrigation efficiency
   [Param] string start;         //no irrigation will be applied before this date
   [Param] string end;           //no irrigation will be applied after this date
   [Param] int maxlayer;         //calculate soil water deficit to this layer (inclusive)
   [Param] int amount;
   [Output] double totalSWD;     //total soil water deficit for given layers
   
   private double[] DulDep;
   private double[] SwDep;
   private double[] LL15Dep;
   private double[] SWD;
   
   [EventHandler] public void OnInitialised()
   {
      DulDep = new double[dul_dep.Length];
      SwDep = new double[dul_dep.Length];
      LL15Dep = new double[dul_dep.Length];
      SWD = new double[dul_dep.Length];
      
      if (maxlayer &gt; dul_dep.Length)
      {
         Console.WriteLine("Warning: max layer is greater than number of layers.");
         Console.WriteLine("Using full profile for soil water deficit calculations.");
         maxlayer = 0;
      }
   }
     
   // The following event handler will be called each day at the beginning of the day
   [EventHandler] public void OnPrepare()
   {
      for (int i = 0; i &lt; (maxlayer &gt; 0 ? maxlayer : dul_dep.Length); i++)
      {
         SWD[i] = dul_dep[i] - sw_dep[i];
      }
      totalSWD = MathUtility.Sum(SWD);
      
      //if the soil water deficit is higer than the allowed deficit, and today is within the irrigation window
      if (totalSWD &gt; deficit &amp;&amp; DateUtility.WithinDates(start, today, end))
      {
         IrrigationApplicationType data = new IrrigationApplicationType(); //using a type means we can use defaults for values we don't change
         data.Amount = (int)totalSWD;
         Irrigation.Set("irrigation_efficiency", eff);
         Irrigation.Apply(data);
      }
   }  
}
       </text>
        </manager2>
        <Soil name="Wakanui_46a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Mottled Immature Pallic Soils</SoilType>
          <Region>
          </Region>
          <State>
          </State>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>1.5423000000000002</double>
            </BD>
            <AirDry>
              <double>0.19147499999999998</double>
            </AirDry>
            <LL15>
              <double>0.207</double>
            </LL15>
            <DUL>
              <double>0.36700000000000005</double>
            </DUL>
            <SAT>
              <double>0.38874000000000003</double>
            </SAT>
            <KS>
              <double>24</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.207</double>
              </LL>
              <KL>
                <double>0.00012393760883331793</double>
              </KL>
              <XF>
                <double>0.31600412869186256</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.207</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>0.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>21.673000000000002</double>
            </CEC>
            <ParticleSizeSand>
              <double>6.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>70.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>24.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">kl_Wakanui_462.out</filename>
          <title>kl_Wakanui_462</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>cover_green</variable>
            <variable>root_depth</variable>
            <variable>rlv(6-10)</variable>
            <variable>ep</variable>
            <variable>pet_total</variable>
            <variable>irrigation</variable>
            <variable>dul(6-10)</variable>
            <variable>ll15(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
      </area>
      <Graph name="CoverGreen">
        <Legend>
          <CheckedTitles> root_depth</CheckedTitles>
          <CheckedTitles> cover_green</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>root_depth</Y>
          <YRight>cover_green</YRight>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="RootLength">
        <Legend>
          <CheckedTitles> rlv(1)</CheckedTitles>
          <CheckedTitles> rlv(2)</CheckedTitles>
          <CheckedTitles> rlv(3)</CheckedTitles>
          <CheckedTitles> rlv(4)</CheckedTitles>
          <CheckedTitles> rlv(5)</CheckedTitles>
          <CheckedTitles> rlv(6)</CheckedTitles>
          <CheckedTitles> rlv(7)</CheckedTitles>
          <CheckedTitles> rlv(8)</CheckedTitles>
          <CheckedTitles> rlv(9)</CheckedTitles>
          <CheckedTitles> rlv(10)</CheckedTitles>
          <CheckedTitles> rlv(11)</CheckedTitles>
          <CheckedTitles> rlv(12)</CheckedTitles>
          <CheckedTitles> rlv(13)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>rlv(1)</Y>
          <Y>rlv(2)</Y>
          <Y>rlv(3)</Y>
          <Y>rlv(4)</Y>
          <Y>rlv(5)</Y>
          <Y>rlv(6)</Y>
          <Y>rlv(7)</Y>
          <Y>rlv(8)</Y>
          <Y>rlv(9)</Y>
          <Y>rlv(10)</Y>
          <Y>rlv(11)</Y>
          <Y>rlv(12)</Y>
          <Y>rlv(13)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="SWC layers">
        <Legend>
          <CheckedTitles> sw(6)</CheckedTitles>
          <CheckedTitles> sw(7)</CheckedTitles>
          <CheckedTitles> sw(8)</CheckedTitles>
          <CheckedTitles> sw(9)</CheckedTitles>
          <CheckedTitles> sw(10)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>sw(1)</Y>
          <Y>sw(2)</Y>
          <Y>sw(3)</Y>
          <Y>sw(4)</Y>
          <Y>sw(5)</Y>
          <Y>sw(6)</Y>
          <Y>sw(7)</Y>
          <Y>sw(8)</Y>
          <Y>sw(9)</Y>
          <Y>sw(10)</Y>
          <Y>sw(11)</Y>
          <Y>sw(12)</Y>
          <Y>sw(13)</Y>
          <Y>sw(14)</Y>
          <Y>sw(15)</Y>
          <Y>sw(16)</Y>
          <Y>sw(17)</Y>
          <Y>sw(18)</Y>
          <Y>sw(19)</Y>
          <Y>sw(20)</Y>
          <Y>sw(21)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="EP">
        <Legend>
          <CheckedTitles> kl_Wakanui_46</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>ep</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
    </simulation>
    <simulation name="kl_Oronoko1282">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <slurp />
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-sep</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
        <manager name="Sow on a fixed date">
          <ui>
            <category type="category" description="Sowing criteria" />
            <date type="text" description="Enter sowing date (dd-mmm) : ">1-jun</date>
            <category type="category" description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">wheat</crop>
            <density type="text" description="Enter sowing density  (plants/m2) : ">250</density>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">Wakaniu</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <row_spacing type="text" description="Enter row spacing (mm) : ">15</row_spacing>
          </ui>
          <script>
            <text>
        if (today = date('[date]') then
              [crop] sow plants =[density], sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
         endif
               </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category type="category" description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">15-sep</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">5000</fert_criteria>
            <category type="category" description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">Fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">1000</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea, nh4so4_n, rock_p, banded_p, broadcast_p" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script>
            <text>
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil &lt; [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <wheat>
          <ModifyKL type="yesno" description="Modify KL using CL, EC or ESP if found?">yes</ModifyKL>
          <MaxRootDepth description="Maximum rooting depth (mm) 0=no restriction">0</MaxRootDepth>
        </wheat>
        <fertiliser name="Fertiliser" />
        <micromet name="Micromet">
          <soilalbedo name="soilalbedo">0.23</soilalbedo>
          <a_interception name="a_interception">0.0</a_interception>
          <b_interception name="b_interception">0.0</b_interception>
          <c_interception name="c_interception">0.0</c_interception>
          <d_interception name="d_interception">0.0</d_interception>
        </micromet>
        <irrigation name="Irrigation">
          <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
          <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
          <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">.99</crit_fr_asw>
          <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
          <irrigation_allocation type="list" listvalues="on,off" description="Allocation limits">off</irrigation_allocation>
          <allocation type="text" description="Allocation in mm">0</allocation>
          <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
          <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
          <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
        </irrigation>
        <manager2 name="Irrigate on sw deficit">
          <ui>
            <deficit type="text" description="Irrigate when soil water deficit reaches this amount (mm)">1</deficit>
            <eff type="text" description="Irrigation efficiency (0-1)">1.0</eff>
            <start type="text" description="The earliest date irrigation will be applied (dd-mmm)">1-jun</start>
            <end type="text" description="The latest date irrigation will be applied (dd-mmm)">15-Sep</end>
            <maxlayer type="text" description="The deficit will be calculated to this soil layer (0 for full profile)">15</maxlayer>
            <amount type="text" description="Amount of irrigation to apply (0 for deficit)">0</amount>
          </ui>
          <text>using System;
using ModelFramework;
using CSGeneral;

public class Script 
{      
   [Link] Irrigation Irrigation; 
   [Input] DateTime today;
   [Input] double[] dul_dep;     //drained upper limit (field capacity) 
   [Input] double[] sw_dep;      //soil water
   [Input] double[] ll15_dep;    //15 bar lower limit
   [Param] int deficit;          //allowable soil water deficit
   [Param] double eff;           //irrigation efficiency
   [Param] string start;         //no irrigation will be applied before this date
   [Param] string end;           //no irrigation will be applied after this date
   [Param] int maxlayer;         //calculate soil water deficit to this layer (inclusive)
   [Param] int amount;
   [Output] double totalSWD;     //total soil water deficit for given layers
   
   private double[] DulDep;
   private double[] SwDep;
   private double[] LL15Dep;
   private double[] SWD;
   
   [EventHandler] public void OnInitialised()
   {
      DulDep = new double[dul_dep.Length];
      SwDep = new double[dul_dep.Length];
      LL15Dep = new double[dul_dep.Length];
      SWD = new double[dul_dep.Length];
      
      if (maxlayer &gt; dul_dep.Length)
      {
         Console.WriteLine("Warning: max layer is greater than number of layers.");
         Console.WriteLine("Using full profile for soil water deficit calculations.");
         maxlayer = 0;
      }
   }
     
   // The following event handler will be called each day at the beginning of the day
   [EventHandler] public void OnPrepare()
   {
      for (int i = 0; i &lt; (maxlayer &gt; 0 ? maxlayer : dul_dep.Length); i++)
      {
         SWD[i] = dul_dep[i] - sw_dep[i];
      }
      totalSWD = MathUtility.Sum(SWD);
      
      //if the soil water deficit is higer than the allowed deficit, and today is within the irrigation window
      if (totalSWD &gt; deficit &amp;&amp; DateUtility.WithinDates(start, today, end))
      {
         IrrigationApplicationType data = new IrrigationApplicationType(); //using a type means we can use defaults for values we don't change
         data.Amount = (int)totalSWD;
         Irrigation.Set("irrigation_efficiency", eff);
         Irrigation.Apply(data);
      }
   }  
}
       </text>
        </manager2>
        <Soil name="Oronoko_128a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Typic Orthic Brown Soils</SoilType>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <YearOfSampling>0</YearOfSampling>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>1.3594499999999996</double>
            </BD>
            <AirDry>
              <double>0.21737499999999999</double>
            </AirDry>
            <LL15>
              <double>0.235</double>
            </LL15>
            <DUL>
              <double>0.382</double>
            </DUL>
            <SAT>
              <double>0.45291000000000009</double>
            </SAT>
            <KS>
              <double>480</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.235</double>
              </LL>
              <KL>
                <double>0.00019830017413330868</double>
              </KL>
              <XF>
                <double>0.046328405328162174</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.235</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>0.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>22.27</double>
            </CEC>
            <ParticleSizeSand>
              <double>15.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>55.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>30.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">kl_Oronoko1282.out</filename>
          <title>kl_Oronoko1282</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>cover_green</variable>
            <variable>root_depth</variable>
            <variable>rlv(6-10)</variable>
            <variable>ep</variable>
            <variable>pet_total</variable>
            <variable>irrigation</variable>
            <variable>dul(6-10)</variable>
            <variable>ll15(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
      </area>
      <Graph name="CoverGreen">
        <Legend>
          <CheckedTitles> root_depth</CheckedTitles>
          <CheckedTitles> cover_green</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>root_depth</Y>
          <YRight>cover_green</YRight>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="RootLength">
        <Legend>
          <CheckedTitles> rlv(1)</CheckedTitles>
          <CheckedTitles> rlv(2)</CheckedTitles>
          <CheckedTitles> rlv(3)</CheckedTitles>
          <CheckedTitles> rlv(4)</CheckedTitles>
          <CheckedTitles> rlv(5)</CheckedTitles>
          <CheckedTitles> rlv(6)</CheckedTitles>
          <CheckedTitles> rlv(7)</CheckedTitles>
          <CheckedTitles> rlv(8)</CheckedTitles>
          <CheckedTitles> rlv(9)</CheckedTitles>
          <CheckedTitles> rlv(10)</CheckedTitles>
          <CheckedTitles> rlv(11)</CheckedTitles>
          <CheckedTitles> rlv(12)</CheckedTitles>
          <CheckedTitles> rlv(13)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>rlv(1)</Y>
          <Y>rlv(2)</Y>
          <Y>rlv(3)</Y>
          <Y>rlv(4)</Y>
          <Y>rlv(5)</Y>
          <Y>rlv(6)</Y>
          <Y>rlv(7)</Y>
          <Y>rlv(8)</Y>
          <Y>rlv(9)</Y>
          <Y>rlv(10)</Y>
          <Y>rlv(11)</Y>
          <Y>rlv(12)</Y>
          <Y>rlv(13)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="SWC layers">
        <Legend>
          <CheckedTitles> sw(6)</CheckedTitles>
          <CheckedTitles> sw(7)</CheckedTitles>
          <CheckedTitles> sw(8)</CheckedTitles>
          <CheckedTitles> sw(9)</CheckedTitles>
          <CheckedTitles> sw(10)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>sw(1)</Y>
          <Y>sw(2)</Y>
          <Y>sw(3)</Y>
          <Y>sw(4)</Y>
          <Y>sw(5)</Y>
          <Y>sw(6)</Y>
          <Y>sw(7)</Y>
          <Y>sw(8)</Y>
          <Y>sw(9)</Y>
          <Y>sw(10)</Y>
          <Y>sw(11)</Y>
          <Y>sw(12)</Y>
          <Y>sw(13)</Y>
          <Y>sw(14)</Y>
          <Y>sw(15)</Y>
          <Y>sw(16)</Y>
          <Y>sw(17)</Y>
          <Y>sw(18)</Y>
          <Y>sw(19)</Y>
          <Y>sw(20)</Y>
          <Y>sw(21)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="EP">
        <Legend>
          <CheckedTitles> kl_Oronoko128</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>ep</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
    </simulation>
    <simulation name="kl_Oronoko1292">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <slurp />
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-sep</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
        <manager name="Sow on a fixed date">
          <ui>
            <category type="category" description="Sowing criteria" />
            <date type="text" description="Enter sowing date (dd-mmm) : ">1-jun</date>
            <category type="category" description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">wheat</crop>
            <density type="text" description="Enter sowing density  (plants/m2) : ">250</density>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">Wakaniu</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <row_spacing type="text" description="Enter row spacing (mm) : ">15</row_spacing>
          </ui>
          <script>
            <text>
        if (today = date('[date]') then
              [crop] sow plants =[density], sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
         endif
               </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category type="category" description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">15-sep</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">5000</fert_criteria>
            <category type="category" description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">Fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">1000</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea, nh4so4_n, rock_p, banded_p, broadcast_p" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script>
            <text>
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil &lt; [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <wheat>
          <ModifyKL type="yesno" description="Modify KL using CL, EC or ESP if found?">yes</ModifyKL>
          <MaxRootDepth description="Maximum rooting depth (mm) 0=no restriction">0</MaxRootDepth>
        </wheat>
        <fertiliser name="Fertiliser" />
        <micromet name="Micromet">
          <soilalbedo name="soilalbedo">0.23</soilalbedo>
          <a_interception name="a_interception">0.0</a_interception>
          <b_interception name="b_interception">0.0</b_interception>
          <c_interception name="c_interception">0.0</c_interception>
          <d_interception name="d_interception">0.0</d_interception>
        </micromet>
        <irrigation name="Irrigation">
          <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
          <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
          <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">.99</crit_fr_asw>
          <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
          <irrigation_allocation type="list" listvalues="on,off" description="Allocation limits">off</irrigation_allocation>
          <allocation type="text" description="Allocation in mm">0</allocation>
          <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
          <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
          <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
        </irrigation>
        <manager2 name="Irrigate on sw deficit">
          <ui>
            <deficit type="text" description="Irrigate when soil water deficit reaches this amount (mm)">1</deficit>
            <eff type="text" description="Irrigation efficiency (0-1)">1.0</eff>
            <start type="text" description="The earliest date irrigation will be applied (dd-mmm)">1-jun</start>
            <end type="text" description="The latest date irrigation will be applied (dd-mmm)">15-Sep</end>
            <maxlayer type="text" description="The deficit will be calculated to this soil layer (0 for full profile)">15</maxlayer>
            <amount type="text" description="Amount of irrigation to apply (0 for deficit)">0</amount>
          </ui>
          <text>using System;
using ModelFramework;
using CSGeneral;

public class Script 
{      
   [Link] Irrigation Irrigation; 
   [Input] DateTime today;
   [Input] double[] dul_dep;     //drained upper limit (field capacity) 
   [Input] double[] sw_dep;      //soil water
   [Input] double[] ll15_dep;    //15 bar lower limit
   [Param] int deficit;          //allowable soil water deficit
   [Param] double eff;           //irrigation efficiency
   [Param] string start;         //no irrigation will be applied before this date
   [Param] string end;           //no irrigation will be applied after this date
   [Param] int maxlayer;         //calculate soil water deficit to this layer (inclusive)
   [Param] int amount;
   [Output] double totalSWD;     //total soil water deficit for given layers
   
   private double[] DulDep;
   private double[] SwDep;
   private double[] LL15Dep;
   private double[] SWD;
   
   [EventHandler] public void OnInitialised()
   {
      DulDep = new double[dul_dep.Length];
      SwDep = new double[dul_dep.Length];
      LL15Dep = new double[dul_dep.Length];
      SWD = new double[dul_dep.Length];
      
      if (maxlayer &gt; dul_dep.Length)
      {
         Console.WriteLine("Warning: max layer is greater than number of layers.");
         Console.WriteLine("Using full profile for soil water deficit calculations.");
         maxlayer = 0;
      }
   }
     
   // The following event handler will be called each day at the beginning of the day
   [EventHandler] public void OnPrepare()
   {
      for (int i = 0; i &lt; (maxlayer &gt; 0 ? maxlayer : dul_dep.Length); i++)
      {
         SWD[i] = dul_dep[i] - sw_dep[i];
      }
      totalSWD = MathUtility.Sum(SWD);
      
      //if the soil water deficit is higer than the allowed deficit, and today is within the irrigation window
      if (totalSWD &gt; deficit &amp;&amp; DateUtility.WithinDates(start, today, end))
      {
         IrrigationApplicationType data = new IrrigationApplicationType(); //using a type means we can use defaults for values we don't change
         data.Amount = (int)totalSWD;
         Irrigation.Set("irrigation_efficiency", eff);
         Irrigation.Apply(data);
      }
   }  
}
       </text>
        </manager2>
        <Soil name="Oronoko_129a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Typic Orthic Brown Soils</SoilType>
          <Region>
          </Region>
          <State>
          </State>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>1.47605</double>
            </BD>
            <AirDry>
              <double>0.0888</double>
            </AirDry>
            <LL15>
              <double>0.096</double>
            </LL15>
            <DUL>
              <double>0.265</double>
            </DUL>
            <SAT>
              <double>0.41199</double>
            </SAT>
            <KS>
              <double>960</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.096</double>
              </LL>
              <KL>
                <double>0.00022308769589997226</double>
              </KL>
              <XF>
                <double>0.022550455808510915</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.096</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>0.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>16.26</double>
            </CEC>
            <ParticleSizeSand>
              <double>45.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>45.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>10.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">kl_Oronoko1292.out</filename>
          <title>kl_Oronoko1292</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>cover_green</variable>
            <variable>root_depth</variable>
            <variable>rlv(6-10)</variable>
            <variable>ep</variable>
            <variable>pet_total</variable>
            <variable>irrigation</variable>
            <variable>dul(6-10)</variable>
            <variable>ll15(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
      </area>
      <Graph name="CoverGreen">
        <Legend>
          <CheckedTitles> root_depth</CheckedTitles>
          <CheckedTitles> cover_green</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>root_depth</Y>
          <YRight>cover_green</YRight>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="RootLength">
        <Legend>
          <CheckedTitles> rlv(1)</CheckedTitles>
          <CheckedTitles> rlv(2)</CheckedTitles>
          <CheckedTitles> rlv(3)</CheckedTitles>
          <CheckedTitles> rlv(4)</CheckedTitles>
          <CheckedTitles> rlv(5)</CheckedTitles>
          <CheckedTitles> rlv(6)</CheckedTitles>
          <CheckedTitles> rlv(7)</CheckedTitles>
          <CheckedTitles> rlv(8)</CheckedTitles>
          <CheckedTitles> rlv(9)</CheckedTitles>
          <CheckedTitles> rlv(10)</CheckedTitles>
          <CheckedTitles> rlv(11)</CheckedTitles>
          <CheckedTitles> rlv(12)</CheckedTitles>
          <CheckedTitles> rlv(13)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>rlv(1)</Y>
          <Y>rlv(2)</Y>
          <Y>rlv(3)</Y>
          <Y>rlv(4)</Y>
          <Y>rlv(5)</Y>
          <Y>rlv(6)</Y>
          <Y>rlv(7)</Y>
          <Y>rlv(8)</Y>
          <Y>rlv(9)</Y>
          <Y>rlv(10)</Y>
          <Y>rlv(11)</Y>
          <Y>rlv(12)</Y>
          <Y>rlv(13)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="SWC layers">
        <Legend>
          <CheckedTitles> sw(6)</CheckedTitles>
          <CheckedTitles> sw(7)</CheckedTitles>
          <CheckedTitles> sw(8)</CheckedTitles>
          <CheckedTitles> sw(9)</CheckedTitles>
          <CheckedTitles> sw(10)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>sw(1)</Y>
          <Y>sw(2)</Y>
          <Y>sw(3)</Y>
          <Y>sw(4)</Y>
          <Y>sw(5)</Y>
          <Y>sw(6)</Y>
          <Y>sw(7)</Y>
          <Y>sw(8)</Y>
          <Y>sw(9)</Y>
          <Y>sw(10)</Y>
          <Y>sw(11)</Y>
          <Y>sw(12)</Y>
          <Y>sw(13)</Y>
          <Y>sw(14)</Y>
          <Y>sw(15)</Y>
          <Y>sw(16)</Y>
          <Y>sw(17)</Y>
          <Y>sw(18)</Y>
          <Y>sw(19)</Y>
          <Y>sw(20)</Y>
          <Y>sw(21)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="EP">
        <Legend>
          <CheckedTitles> kl_Oronoko129</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>ep</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
    </simulation>
    <simulation name="kl_Fork82">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <slurp />
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-sep</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
        <manager name="Sow on a fixed date">
          <ui>
            <category type="category" description="Sowing criteria" />
            <date type="text" description="Enter sowing date (dd-mmm) : ">1-jun</date>
            <category type="category" description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">wheat</crop>
            <density type="text" description="Enter sowing density  (plants/m2) : ">250</density>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">Wakaniu</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <row_spacing type="text" description="Enter row spacing (mm) : ">15</row_spacing>
          </ui>
          <script>
            <text>
        if (today = date('[date]') then
              [crop] sow plants =[density], sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
         endif
               </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category type="category" description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">15-sep</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">5000</fert_criteria>
            <category type="category" description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">Fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">1000</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea, nh4so4_n, rock_p, banded_p, broadcast_p" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script>
            <text>
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil &lt; [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <wheat>
          <ModifyKL type="yesno" description="Modify KL using CL, EC or ESP if found?">yes</ModifyKL>
          <MaxRootDepth description="Maximum rooting depth (mm) 0=no restriction">0</MaxRootDepth>
        </wheat>
        <fertiliser name="Fertiliser" />
        <micromet name="Micromet">
          <soilalbedo name="soilalbedo">0.23</soilalbedo>
          <a_interception name="a_interception">0.0</a_interception>
          <b_interception name="b_interception">0.0</b_interception>
          <c_interception name="c_interception">0.0</c_interception>
          <d_interception name="d_interception">0.0</d_interception>
        </micromet>
        <irrigation name="Irrigation">
          <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
          <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
          <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">.99</crit_fr_asw>
          <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
          <irrigation_allocation type="list" listvalues="on,off" description="Allocation limits">off</irrigation_allocation>
          <allocation type="text" description="Allocation in mm">0</allocation>
          <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
          <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
          <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
        </irrigation>
        <manager2 name="Irrigate on sw deficit">
          <ui>
            <deficit type="text" description="Irrigate when soil water deficit reaches this amount (mm)">1</deficit>
            <eff type="text" description="Irrigation efficiency (0-1)">1.0</eff>
            <start type="text" description="The earliest date irrigation will be applied (dd-mmm)">1-jun</start>
            <end type="text" description="The latest date irrigation will be applied (dd-mmm)">15-Sep</end>
            <maxlayer type="text" description="The deficit will be calculated to this soil layer (0 for full profile)">15</maxlayer>
            <amount type="text" description="Amount of irrigation to apply (0 for deficit)">0</amount>
          </ui>
          <text>using System;
using ModelFramework;
using CSGeneral;

public class Script 
{      
   [Link] Irrigation Irrigation; 
   [Input] DateTime today;
   [Input] double[] dul_dep;     //drained upper limit (field capacity) 
   [Input] double[] sw_dep;      //soil water
   [Input] double[] ll15_dep;    //15 bar lower limit
   [Param] int deficit;          //allowable soil water deficit
   [Param] double eff;           //irrigation efficiency
   [Param] string start;         //no irrigation will be applied before this date
   [Param] string end;           //no irrigation will be applied after this date
   [Param] int maxlayer;         //calculate soil water deficit to this layer (inclusive)
   [Param] int amount;
   [Output] double totalSWD;     //total soil water deficit for given layers
   
   private double[] DulDep;
   private double[] SwDep;
   private double[] LL15Dep;
   private double[] SWD;
   
   [EventHandler] public void OnInitialised()
   {
      DulDep = new double[dul_dep.Length];
      SwDep = new double[dul_dep.Length];
      LL15Dep = new double[dul_dep.Length];
      SWD = new double[dul_dep.Length];
      
      if (maxlayer &gt; dul_dep.Length)
      {
         Console.WriteLine("Warning: max layer is greater than number of layers.");
         Console.WriteLine("Using full profile for soil water deficit calculations.");
         maxlayer = 0;
      }
   }
     
   // The following event handler will be called each day at the beginning of the day
   [EventHandler] public void OnPrepare()
   {
      for (int i = 0; i &lt; (maxlayer &gt; 0 ? maxlayer : dul_dep.Length); i++)
      {
         SWD[i] = dul_dep[i] - sw_dep[i];
      }
      totalSWD = MathUtility.Sum(SWD);
      
      //if the soil water deficit is higer than the allowed deficit, and today is within the irrigation window
      if (totalSWD &gt; deficit &amp;&amp; DateUtility.WithinDates(start, today, end))
      {
         IrrigationApplicationType data = new IrrigationApplicationType(); //using a type means we can use defaults for values we don't change
         data.Amount = (int)totalSWD;
         Irrigation.Set("irrigation_efficiency", eff);
         Irrigation.Apply(data);
      }
   }  
}
       </text>
        </manager2>
        <Soil name="Fork_8a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Typic Orthic Brown Soils</SoilType>
          <Region>
          </Region>
          <State>
          </State>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>2.253984</double>
            </BD>
            <AirDry>
              <double>0.012728</double>
            </AirDry>
            <LL15>
              <double>0.01376</double>
            </LL15>
            <DUL>
              <double>0.0464</double>
            </DUL>
            <SAT>
              <double>0.13897920000000003</double>
            </SAT>
            <KS>
              <double>2400</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.01376</double>
              </LL>
              <KL>
                <double>0.00019830017413330868</double>
              </KL>
              <XF>
                <double>0.058894945909171818</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.014</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>68.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>12.38</double>
            </CEC>
            <ParticleSizeSand>
              <double>85.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>11.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>4.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">kl_Fork82.out</filename>
          <title>kl_Fork82</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>cover_green</variable>
            <variable>root_depth</variable>
            <variable>rlv(6-10)</variable>
            <variable>ep</variable>
            <variable>pet_total</variable>
            <variable>irrigation</variable>
            <variable>dul(6-10)</variable>
            <variable>ll15(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
      </area>
      <Graph name="CoverGreen">
        <Legend>
          <CheckedTitles> root_depth</CheckedTitles>
          <CheckedTitles> cover_green</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>root_depth</Y>
          <YRight>cover_green</YRight>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="RootLength">
        <Legend>
          <CheckedTitles> rlv(1)</CheckedTitles>
          <CheckedTitles> rlv(2)</CheckedTitles>
          <CheckedTitles> rlv(3)</CheckedTitles>
          <CheckedTitles> rlv(4)</CheckedTitles>
          <CheckedTitles> rlv(5)</CheckedTitles>
          <CheckedTitles> rlv(6)</CheckedTitles>
          <CheckedTitles> rlv(7)</CheckedTitles>
          <CheckedTitles> rlv(8)</CheckedTitles>
          <CheckedTitles> rlv(9)</CheckedTitles>
          <CheckedTitles> rlv(10)</CheckedTitles>
          <CheckedTitles> rlv(11)</CheckedTitles>
          <CheckedTitles> rlv(12)</CheckedTitles>
          <CheckedTitles> rlv(13)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>rlv(1)</Y>
          <Y>rlv(2)</Y>
          <Y>rlv(3)</Y>
          <Y>rlv(4)</Y>
          <Y>rlv(5)</Y>
          <Y>rlv(6)</Y>
          <Y>rlv(7)</Y>
          <Y>rlv(8)</Y>
          <Y>rlv(9)</Y>
          <Y>rlv(10)</Y>
          <Y>rlv(11)</Y>
          <Y>rlv(12)</Y>
          <Y>rlv(13)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="SWC layers">
        <Legend>
          <CheckedTitles> sw(6)</CheckedTitles>
          <CheckedTitles> sw(7)</CheckedTitles>
          <CheckedTitles> sw(8)</CheckedTitles>
          <CheckedTitles> sw(9)</CheckedTitles>
          <CheckedTitles> sw(10)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>sw(1)</Y>
          <Y>sw(2)</Y>
          <Y>sw(3)</Y>
          <Y>sw(4)</Y>
          <Y>sw(5)</Y>
          <Y>sw(6)</Y>
          <Y>sw(7)</Y>
          <Y>sw(8)</Y>
          <Y>sw(9)</Y>
          <Y>sw(10)</Y>
          <Y>sw(11)</Y>
          <Y>sw(12)</Y>
          <Y>sw(13)</Y>
          <Y>sw(14)</Y>
          <Y>sw(15)</Y>
          <Y>sw(16)</Y>
          <Y>sw(17)</Y>
          <Y>sw(18)</Y>
          <Y>sw(19)</Y>
          <Y>sw(20)</Y>
          <Y>sw(21)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="EP">
        <Legend>
          <CheckedTitles> kl_Fork8</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>ep</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
    </simulation>
    <simulation name="kl_Glasnevin132">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <slurp />
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-sep</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
        <manager name="Sow on a fixed date">
          <ui>
            <category type="category" description="Sowing criteria" />
            <date type="text" description="Enter sowing date (dd-mmm) : ">1-jun</date>
            <category type="category" description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">wheat</crop>
            <density type="text" description="Enter sowing density  (plants/m2) : ">250</density>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">Wakaniu</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <row_spacing type="text" description="Enter row spacing (mm) : ">15</row_spacing>
          </ui>
          <script>
            <text>
        if (today = date('[date]') then
              [crop] sow plants =[density], sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
         endif
               </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category type="category" description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">15-sep</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">5000</fert_criteria>
            <category type="category" description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">Fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">1000</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea, nh4so4_n, rock_p, banded_p, broadcast_p" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script>
            <text>
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil &lt; [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <wheat>
          <ModifyKL type="yesno" description="Modify KL using CL, EC or ESP if found?">yes</ModifyKL>
          <MaxRootDepth description="Maximum rooting depth (mm) 0=no restriction">0</MaxRootDepth>
        </wheat>
        <fertiliser name="Fertiliser" />
        <micromet name="Micromet">
          <soilalbedo name="soilalbedo">0.23</soilalbedo>
          <a_interception name="a_interception">0.0</a_interception>
          <b_interception name="b_interception">0.0</b_interception>
          <c_interception name="c_interception">0.0</c_interception>
          <d_interception name="d_interception">0.0</d_interception>
        </micromet>
        <irrigation name="Irrigation">
          <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
          <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
          <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">.99</crit_fr_asw>
          <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
          <irrigation_allocation type="list" listvalues="on,off" description="Allocation limits">off</irrigation_allocation>
          <allocation type="text" description="Allocation in mm">0</allocation>
          <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
          <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
          <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
        </irrigation>
        <manager2 name="Irrigate on sw deficit">
          <ui>
            <deficit type="text" description="Irrigate when soil water deficit reaches this amount (mm)">1</deficit>
            <eff type="text" description="Irrigation efficiency (0-1)">1.0</eff>
            <start type="text" description="The earliest date irrigation will be applied (dd-mmm)">1-jun</start>
            <end type="text" description="The latest date irrigation will be applied (dd-mmm)">15-Sep</end>
            <maxlayer type="text" description="The deficit will be calculated to this soil layer (0 for full profile)">15</maxlayer>
            <amount type="text" description="Amount of irrigation to apply (0 for deficit)">0</amount>
          </ui>
          <text>using System;
using ModelFramework;
using CSGeneral;

public class Script 
{      
   [Link] Irrigation Irrigation; 
   [Input] DateTime today;
   [Input] double[] dul_dep;     //drained upper limit (field capacity) 
   [Input] double[] sw_dep;      //soil water
   [Input] double[] ll15_dep;    //15 bar lower limit
   [Param] int deficit;          //allowable soil water deficit
   [Param] double eff;           //irrigation efficiency
   [Param] string start;         //no irrigation will be applied before this date
   [Param] string end;           //no irrigation will be applied after this date
   [Param] int maxlayer;         //calculate soil water deficit to this layer (inclusive)
   [Param] int amount;
   [Output] double totalSWD;     //total soil water deficit for given layers
   
   private double[] DulDep;
   private double[] SwDep;
   private double[] LL15Dep;
   private double[] SWD;
   
   [EventHandler] public void OnInitialised()
   {
      DulDep = new double[dul_dep.Length];
      SwDep = new double[dul_dep.Length];
      LL15Dep = new double[dul_dep.Length];
      SWD = new double[dul_dep.Length];
      
      if (maxlayer &gt; dul_dep.Length)
      {
         Console.WriteLine("Warning: max layer is greater than number of layers.");
         Console.WriteLine("Using full profile for soil water deficit calculations.");
         maxlayer = 0;
      }
   }
     
   // The following event handler will be called each day at the beginning of the day
   [EventHandler] public void OnPrepare()
   {
      for (int i = 0; i &lt; (maxlayer &gt; 0 ? maxlayer : dul_dep.Length); i++)
      {
         SWD[i] = dul_dep[i] - sw_dep[i];
      }
      totalSWD = MathUtility.Sum(SWD);
      
      //if the soil water deficit is higer than the allowed deficit, and today is within the irrigation window
      if (totalSWD &gt; deficit &amp;&amp; DateUtility.WithinDates(start, today, end))
      {
         IrrigationApplicationType data = new IrrigationApplicationType(); //using a type means we can use defaults for values we don't change
         data.Amount = (int)totalSWD;
         Irrigation.Set("irrigation_efficiency", eff);
         Irrigation.Apply(data);
      }
   }  
}
       </text>
        </manager2>
        <Soil name="Glasnevin_13a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Typic Immature Pallic Soils</SoilType>
          <Region>
          </Region>
          <State>
          </State>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>2.0312249999999996</double>
            </BD>
            <AirDry>
              <double>0.0814</double>
            </AirDry>
            <LL15>
              <double>0.088000000000000009</double>
            </LL15>
            <DUL>
              <double>0.157</double>
            </DUL>
            <SAT>
              <double>0.21715500000000004</double>
            </SAT>
            <KS>
              <double>120</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.088000000000000009</double>
              </LL>
              <KL>
                <double>0.00018590641324997689</double>
              </KL>
              <XF>
                <double>0.074870149945259742</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.088</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>50.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>19.26</double>
            </CEC>
            <ParticleSizeSand>
              <double>45.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>30.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>25.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">kl_Glasnevin132.out</filename>
          <title>kl_Glasnevin132</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>cover_green</variable>
            <variable>root_depth</variable>
            <variable>rlv(6-10)</variable>
            <variable>ep</variable>
            <variable>pet_total</variable>
            <variable>irrigation</variable>
            <variable>dul(6-10)</variable>
            <variable>ll15(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
      </area>
      <Graph name="CoverGreen">
        <Legend>
          <CheckedTitles> root_depth</CheckedTitles>
          <CheckedTitles> cover_green</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>root_depth</Y>
          <YRight>cover_green</YRight>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="RootLength">
        <Legend>
          <CheckedTitles> rlv(1)</CheckedTitles>
          <CheckedTitles> rlv(2)</CheckedTitles>
          <CheckedTitles> rlv(3)</CheckedTitles>
          <CheckedTitles> rlv(4)</CheckedTitles>
          <CheckedTitles> rlv(5)</CheckedTitles>
          <CheckedTitles> rlv(6)</CheckedTitles>
          <CheckedTitles> rlv(7)</CheckedTitles>
          <CheckedTitles> rlv(8)</CheckedTitles>
          <CheckedTitles> rlv(9)</CheckedTitles>
          <CheckedTitles> rlv(10)</CheckedTitles>
          <CheckedTitles> rlv(11)</CheckedTitles>
          <CheckedTitles> rlv(12)</CheckedTitles>
          <CheckedTitles> rlv(13)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>rlv(1)</Y>
          <Y>rlv(2)</Y>
          <Y>rlv(3)</Y>
          <Y>rlv(4)</Y>
          <Y>rlv(5)</Y>
          <Y>rlv(6)</Y>
          <Y>rlv(7)</Y>
          <Y>rlv(8)</Y>
          <Y>rlv(9)</Y>
          <Y>rlv(10)</Y>
          <Y>rlv(11)</Y>
          <Y>rlv(12)</Y>
          <Y>rlv(13)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="SWC layers">
        <Legend>
          <CheckedTitles> sw(6)</CheckedTitles>
          <CheckedTitles> sw(7)</CheckedTitles>
          <CheckedTitles> sw(8)</CheckedTitles>
          <CheckedTitles> sw(9)</CheckedTitles>
          <CheckedTitles> sw(10)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>sw(1)</Y>
          <Y>sw(2)</Y>
          <Y>sw(3)</Y>
          <Y>sw(4)</Y>
          <Y>sw(5)</Y>
          <Y>sw(6)</Y>
          <Y>sw(7)</Y>
          <Y>sw(8)</Y>
          <Y>sw(9)</Y>
          <Y>sw(10)</Y>
          <Y>sw(11)</Y>
          <Y>sw(12)</Y>
          <Y>sw(13)</Y>
          <Y>sw(14)</Y>
          <Y>sw(15)</Y>
          <Y>sw(16)</Y>
          <Y>sw(17)</Y>
          <Y>sw(18)</Y>
          <Y>sw(19)</Y>
          <Y>sw(20)</Y>
          <Y>sw(21)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="EP">
        <Legend>
          <CheckedTitles> kl_Glasnevin13</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>ep</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
    </simulation>
    <simulation name="kl_Mandamus322">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <slurp />
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-sep</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
        <manager name="Sow on a fixed date">
          <ui>
            <category type="category" description="Sowing criteria" />
            <date type="text" description="Enter sowing date (dd-mmm) : ">1-jun</date>
            <category type="category" description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">wheat</crop>
            <density type="text" description="Enter sowing density  (plants/m2) : ">250</density>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">Wakaniu</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <row_spacing type="text" description="Enter row spacing (mm) : ">15</row_spacing>
          </ui>
          <script>
            <text>
        if (today = date('[date]') then
              [crop] sow plants =[density], sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
         endif
               </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category type="category" description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">15-sep</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">5000</fert_criteria>
            <category type="category" description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">Fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">1000</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea, nh4so4_n, rock_p, banded_p, broadcast_p" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script>
            <text>
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil &lt; [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <wheat>
          <ModifyKL type="yesno" description="Modify KL using CL, EC or ESP if found?">yes</ModifyKL>
          <MaxRootDepth description="Maximum rooting depth (mm) 0=no restriction">0</MaxRootDepth>
        </wheat>
        <fertiliser name="Fertiliser" />
        <micromet name="Micromet">
          <soilalbedo name="soilalbedo">0.23</soilalbedo>
          <a_interception name="a_interception">0.0</a_interception>
          <b_interception name="b_interception">0.0</b_interception>
          <c_interception name="c_interception">0.0</c_interception>
          <d_interception name="d_interception">0.0</d_interception>
        </micromet>
        <irrigation name="Irrigation">
          <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
          <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
          <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">.99</crit_fr_asw>
          <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
          <irrigation_allocation type="list" listvalues="on,off" description="Allocation limits">off</irrigation_allocation>
          <allocation type="text" description="Allocation in mm">0</allocation>
          <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
          <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
          <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
        </irrigation>
        <manager2 name="Irrigate on sw deficit">
          <ui>
            <deficit type="text" description="Irrigate when soil water deficit reaches this amount (mm)">1</deficit>
            <eff type="text" description="Irrigation efficiency (0-1)">1.0</eff>
            <start type="text" description="The earliest date irrigation will be applied (dd-mmm)">1-jun</start>
            <end type="text" description="The latest date irrigation will be applied (dd-mmm)">15-Sep</end>
            <maxlayer type="text" description="The deficit will be calculated to this soil layer (0 for full profile)">15</maxlayer>
            <amount type="text" description="Amount of irrigation to apply (0 for deficit)">0</amount>
          </ui>
          <text>using System;
using ModelFramework;
using CSGeneral;

public class Script 
{      
   [Link] Irrigation Irrigation; 
   [Input] DateTime today;
   [Input] double[] dul_dep;     //drained upper limit (field capacity) 
   [Input] double[] sw_dep;      //soil water
   [Input] double[] ll15_dep;    //15 bar lower limit
   [Param] int deficit;          //allowable soil water deficit
   [Param] double eff;           //irrigation efficiency
   [Param] string start;         //no irrigation will be applied before this date
   [Param] string end;           //no irrigation will be applied after this date
   [Param] int maxlayer;         //calculate soil water deficit to this layer (inclusive)
   [Param] int amount;
   [Output] double totalSWD;     //total soil water deficit for given layers
   
   private double[] DulDep;
   private double[] SwDep;
   private double[] LL15Dep;
   private double[] SWD;
   
   [EventHandler] public void OnInitialised()
   {
      DulDep = new double[dul_dep.Length];
      SwDep = new double[dul_dep.Length];
      LL15Dep = new double[dul_dep.Length];
      SWD = new double[dul_dep.Length];
      
      if (maxlayer &gt; dul_dep.Length)
      {
         Console.WriteLine("Warning: max layer is greater than number of layers.");
         Console.WriteLine("Using full profile for soil water deficit calculations.");
         maxlayer = 0;
      }
   }
     
   // The following event handler will be called each day at the beginning of the day
   [EventHandler] public void OnPrepare()
   {
      for (int i = 0; i &lt; (maxlayer &gt; 0 ? maxlayer : dul_dep.Length); i++)
      {
         SWD[i] = dul_dep[i] - sw_dep[i];
      }
      totalSWD = MathUtility.Sum(SWD);
      
      //if the soil water deficit is higer than the allowed deficit, and today is within the irrigation window
      if (totalSWD &gt; deficit &amp;&amp; DateUtility.WithinDates(start, today, end))
      {
         IrrigationApplicationType data = new IrrigationApplicationType(); //using a type means we can use defaults for values we don't change
         data.Amount = (int)totalSWD;
         Irrigation.Set("irrigation_efficiency", eff);
         Irrigation.Apply(data);
      }
   }  
}
       </text>
        </manager2>
        <Soil name="Mandamus_32a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Typic Orthic Brown Soils</SoilType>
          <Region>
          </Region>
          <State>
          </State>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>2.1443799999999995</double>
            </BD>
            <AirDry>
              <double>0.03071</double>
            </AirDry>
            <LL15>
              <double>0.0332</double>
            </LL15>
            <DUL>
              <double>0.090400000000000008</double>
            </DUL>
            <SAT>
              <double>0.17744400000000005</double>
            </SAT>
            <KS>
              <double>1200</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.0332</double>
              </LL>
              <KL>
                <double>0.00022308769589997226</double>
              </KL>
              <XF>
                <double>0.022550455808510915</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.033</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>60.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>14.585</double>
            </CEC>
            <ParticleSizeSand>
              <double>70.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>20.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>10.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">kl_Mandamus322.out</filename>
          <title>kl_Mandamus322</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>cover_green</variable>
            <variable>root_depth</variable>
            <variable>rlv(6-10)</variable>
            <variable>ep</variable>
            <variable>pet_total</variable>
            <variable>irrigation</variable>
            <variable>dul(6-10)</variable>
            <variable>ll15(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
      </area>
      <Graph name="CoverGreen">
        <Legend>
          <CheckedTitles> root_depth</CheckedTitles>
          <CheckedTitles> cover_green</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>root_depth</Y>
          <YRight>cover_green</YRight>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="RootLength">
        <Legend>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>rlv(1)</Y>
          <Y>rlv(2)</Y>
          <Y>rlv(3)</Y>
          <Y>rlv(4)</Y>
          <Y>rlv(5)</Y>
          <Y>rlv(6)</Y>
          <Y>rlv(7)</Y>
          <Y>rlv(8)</Y>
          <Y>rlv(9)</Y>
          <Y>rlv(10)</Y>
          <Y>rlv(11)</Y>
          <Y>rlv(12)</Y>
          <Y>rlv(13)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="SWC layers">
        <Legend>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>sw(1)</Y>
          <Y>sw(2)</Y>
          <Y>sw(3)</Y>
          <Y>sw(4)</Y>
          <Y>sw(5)</Y>
          <Y>sw(6)</Y>
          <Y>sw(7)</Y>
          <Y>sw(8)</Y>
          <Y>sw(9)</Y>
          <Y>sw(10)</Y>
          <Y>sw(11)</Y>
          <Y>sw(12)</Y>
          <Y>sw(13)</Y>
          <Y>sw(14)</Y>
          <Y>sw(15)</Y>
          <Y>sw(16)</Y>
          <Y>sw(17)</Y>
          <Y>sw(18)</Y>
          <Y>sw(19)</Y>
          <Y>sw(20)</Y>
          <Y>sw(21)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="EP">
        <Legend>
          <CheckedTitles> kl_Mandamus322</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>ep</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
    </simulation>
    <simulation name="kl_ApsimVYc12">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <slurp />
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-sep</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
        <manager name="Sow on a fixed date">
          <ui>
            <category type="category" description="Sowing criteria" />
            <date type="text" description="Enter sowing date (dd-mmm) : ">1-jun</date>
            <category type="category" description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">wheat</crop>
            <density type="text" description="Enter sowing density  (plants/m2) : ">250</density>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">Wakaniu</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <row_spacing type="text" description="Enter row spacing (mm) : ">15</row_spacing>
          </ui>
          <script>
            <text>
        if (today = date('[date]') then
              [crop] sow plants =[density], sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
         endif
               </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category type="category" description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">15-sep</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">5000</fert_criteria>
            <category type="category" description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">Fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">1000</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea, nh4so4_n, rock_p, banded_p, broadcast_p" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script>
            <text>
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil &lt; [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <wheat>
          <ModifyKL type="yesno" description="Modify KL using CL, EC or ESP if found?">yes</ModifyKL>
          <MaxRootDepth description="Maximum rooting depth (mm) 0=no restriction">0</MaxRootDepth>
        </wheat>
        <fertiliser name="Fertiliser" />
        <micromet name="Micromet">
          <soilalbedo name="soilalbedo">0.23</soilalbedo>
          <a_interception name="a_interception">0.0</a_interception>
          <b_interception name="b_interception">0.0</b_interception>
          <c_interception name="c_interception">0.0</c_interception>
          <d_interception name="d_interception">0.0</d_interception>
        </micromet>
        <irrigation name="Irrigation">
          <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
          <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
          <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">.99</crit_fr_asw>
          <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
          <irrigation_allocation type="list" listvalues="on,off" description="Allocation limits">off</irrigation_allocation>
          <allocation type="text" description="Allocation in mm">0</allocation>
          <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
          <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
          <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
        </irrigation>
        <manager2 name="Irrigate on sw deficit">
          <ui>
            <deficit type="text" description="Irrigate when soil water deficit reaches this amount (mm)">2</deficit>
            <eff type="text" description="Irrigation efficiency (0-1)">1.0</eff>
            <start type="text" description="The earliest date irrigation will be applied (dd-mmm)">1-jun</start>
            <end type="text" description="The latest date irrigation will be applied (dd-mmm)">15-Sep</end>
            <maxlayer type="text" description="The deficit will be calculated to this soil layer (0 for full profile)">15</maxlayer>
            <amount type="text" description="Amount of irrigation to apply (0 for deficit)">0</amount>
          </ui>
          <text>using System;
using ModelFramework;
using CSGeneral;

public class Script 
{      
   [Link] Irrigation Irrigation; 
   [Input] DateTime today;
   [Input] double[] dul_dep;     //drained upper limit (field capacity) 
   [Input] double[] sw_dep;      //soil water
   [Input] double[] ll15_dep;    //15 bar lower limit
   [Param] int deficit;          //allowable soil water deficit
   [Param] double eff;           //irrigation efficiency
   [Param] string start;         //no irrigation will be applied before this date
   [Param] string end;           //no irrigation will be applied after this date
   [Param] int maxlayer;         //calculate soil water deficit to this layer (inclusive)
   [Param] int amount;
   [Output] double totalSWD;     //total soil water deficit for given layers
   
   private double[] DulDep;
   private double[] SwDep;
   private double[] LL15Dep;
   private double[] SWD;
   
   [EventHandler] public void OnInitialised()
   {
      DulDep = new double[dul_dep.Length];
      SwDep = new double[dul_dep.Length];
      LL15Dep = new double[dul_dep.Length];
      SWD = new double[dul_dep.Length];
      
      if (maxlayer &gt; dul_dep.Length)
      {
         Console.WriteLine("Warning: max layer is greater than number of layers.");
         Console.WriteLine("Using full profile for soil water deficit calculations.");
         maxlayer = 0;
      }
   }
     
   // The following event handler will be called each day at the beginning of the day
   [EventHandler] public void OnPrepare()
   {
      for (int i = 0; i &lt; (maxlayer &gt; 0 ? maxlayer : dul_dep.Length); i++)
      {
         SWD[i] = dul_dep[i] - sw_dep[i];
      }
      totalSWD = MathUtility.Sum(SWD);
      
      //if the soil water deficit is higer than the allowed deficit, and today is within the irrigation window
      if (totalSWD &gt; deficit &amp;&amp; DateUtility.WithinDates(start, today, end))
      {
         IrrigationApplicationType data = new IrrigationApplicationType(); //using a type means we can use defaults for values we don't change
         data.Amount = (int)totalSWD;
         Irrigation.Set("irrigation_efficiency", eff);
         Irrigation.Apply(data);
      }
   }  
}
       </text>
        </manager2>
        <Soil name="ApsimVYc_1a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Acidic Orthic Brown Soils</SoilType>
          <Region>
          </Region>
          <State>
          </State>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <LayerStructure>
            <Thickness>
              <double>10</double>
              <double>20</double>
              <double>30</double>
              <double>40</double>
              <double>122</double>
              <double>122</double>
              <double>122.00000000000003</double>
              <double>121.99999999999996</double>
              <double>122.00000000000003</double>
              <double>122.00000000000003</double>
              <double>122.00000000000003</double>
              <double>121.99999999999989</double>
              <double>122.00000000000003</double>
              <double>122.00000000000003</double>
              <double>121.99999999999989</double>
              <double>122.00000000000017</double>
              <double>121.99999999999989</double>
              <double>122.00000000000017</double>
              <double>121.99999999999989</double>
              <double>50</double>
              <double>20</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>2.0215525</double>
            </BD>
            <AirDry>
              <double>0.111555</double>
            </AirDry>
            <LL15>
              <double>0.1206</double>
            </LL15>
            <DUL>
              <double>0.17504999999999998</double>
            </DUL>
            <SAT>
              <double>0.22054950000000007</double>
            </SAT>
            <KS>
              <double>48</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.1206</double>
              </LL>
              <KL>
                <double>0.00018590641324997689</double>
              </KL>
              <XF>
                <double>0.058894945909171818</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.021</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>55.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>24.87</double>
            </CEC>
            <ParticleSizeSand>
              <double>15.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>42.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>43.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">kl_ApsimVYc12.out</filename>
          <title>kl_ApsimVYc12</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>cover_green</variable>
            <variable>root_depth</variable>
            <variable>rlv(6-10)</variable>
            <variable>ep</variable>
            <variable>pet_total</variable>
            <variable>irrigation</variable>
            <variable>dul(6-10)</variable>
            <variable>ll15(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
      </area>
      <Graph name="CoverGreen">
        <Legend>
          <CheckedTitles> root_depth</CheckedTitles>
          <CheckedTitles> cover_green</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>root_depth</Y>
          <YRight>cover_green</YRight>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="RootLength">
        <Legend>
          <CheckedTitles> rlv(1)</CheckedTitles>
          <CheckedTitles> rlv(2)</CheckedTitles>
          <CheckedTitles> rlv(3)</CheckedTitles>
          <CheckedTitles> rlv(4)</CheckedTitles>
          <CheckedTitles> rlv(5)</CheckedTitles>
          <CheckedTitles> rlv(6)</CheckedTitles>
          <CheckedTitles> rlv(7)</CheckedTitles>
          <CheckedTitles> rlv(8)</CheckedTitles>
          <CheckedTitles> rlv(9)</CheckedTitles>
          <CheckedTitles> rlv(10)</CheckedTitles>
          <CheckedTitles> rlv(11)</CheckedTitles>
          <CheckedTitles> rlv(12)</CheckedTitles>
          <CheckedTitles> rlv(13)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>rlv(1)</Y>
          <Y>rlv(2)</Y>
          <Y>rlv(3)</Y>
          <Y>rlv(4)</Y>
          <Y>rlv(5)</Y>
          <Y>rlv(6)</Y>
          <Y>rlv(7)</Y>
          <Y>rlv(8)</Y>
          <Y>rlv(9)</Y>
          <Y>rlv(10)</Y>
          <Y>rlv(11)</Y>
          <Y>rlv(12)</Y>
          <Y>rlv(13)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="SWC layers">
        <Legend>
          <CheckedTitles> sw(6)</CheckedTitles>
          <CheckedTitles> sw(7)</CheckedTitles>
          <CheckedTitles> sw(8)</CheckedTitles>
          <CheckedTitles> sw(9)</CheckedTitles>
          <CheckedTitles> sw(10)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>sw(1)</Y>
          <Y>sw(2)</Y>
          <Y>sw(3)</Y>
          <Y>sw(4)</Y>
          <Y>sw(5)</Y>
          <Y>sw(6)</Y>
          <Y>sw(7)</Y>
          <Y>sw(8)</Y>
          <Y>sw(9)</Y>
          <Y>sw(10)</Y>
          <Y>sw(11)</Y>
          <Y>sw(12)</Y>
          <Y>sw(13)</Y>
          <Y>sw(14)</Y>
          <Y>sw(15)</Y>
          <Y>sw(16)</Y>
          <Y>sw(17)</Y>
          <Y>sw(18)</Y>
          <Y>sw(19)</Y>
          <Y>sw(20)</Y>
          <Y>sw(21)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="EP">
        <Legend>
          <CheckedTitles> kl_ApsimVYc1</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>ep</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
    </simulation>
    <simulation name="kl_Rangitata672">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <slurp />
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-sep</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
        <manager name="Sow on a fixed date">
          <ui>
            <category type="category" description="Sowing criteria" />
            <date type="text" description="Enter sowing date (dd-mmm) : ">1-jun</date>
            <category type="category" description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">wheat</crop>
            <density type="text" description="Enter sowing density  (plants/m2) : ">250</density>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">Wakaniu</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <row_spacing type="text" description="Enter row spacing (mm) : ">15</row_spacing>
          </ui>
          <script>
            <text>
        if (today = date('[date]') then
              [crop] sow plants =[density], sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
         endif
               </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category type="category" description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">15-sep</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">5000</fert_criteria>
            <category type="category" description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">Fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">1000</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea, nh4so4_n, rock_p, banded_p, broadcast_p" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script>
            <text>
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil &lt; [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <wheat>
          <ModifyKL type="yesno" description="Modify KL using CL, EC or ESP if found?">yes</ModifyKL>
          <MaxRootDepth description="Maximum rooting depth (mm) 0=no restriction">0</MaxRootDepth>
        </wheat>
        <fertiliser name="Fertiliser" />
        <micromet name="Micromet">
          <soilalbedo name="soilalbedo">0.23</soilalbedo>
          <a_interception name="a_interception">0.0</a_interception>
          <b_interception name="b_interception">0.0</b_interception>
          <c_interception name="c_interception">0.0</c_interception>
          <d_interception name="d_interception">0.0</d_interception>
        </micromet>
        <irrigation name="Irrigation">
          <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
          <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
          <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">.99</crit_fr_asw>
          <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
          <irrigation_allocation type="list" listvalues="on,off" description="Allocation limits">off</irrigation_allocation>
          <allocation type="text" description="Allocation in mm">0</allocation>
          <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
          <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
          <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
        </irrigation>
        <manager2 name="Irrigate on sw deficit">
          <ui>
            <deficit type="text" description="Irrigate when soil water deficit reaches this amount (mm)">2</deficit>
            <eff type="text" description="Irrigation efficiency (0-1)">1.0</eff>
            <start type="text" description="The earliest date irrigation will be applied (dd-mmm)">1-jun</start>
            <end type="text" description="The latest date irrigation will be applied (dd-mmm)">15-Sep</end>
            <maxlayer type="text" description="The deficit will be calculated to this soil layer (0 for full profile)">15</maxlayer>
            <amount type="text" description="Amount of irrigation to apply (0 for deficit)">0</amount>
          </ui>
          <text>using System;
using ModelFramework;
using CSGeneral;

public class Script 
{      
   [Link] Irrigation Irrigation; 
   [Input] DateTime today;
   [Input] double[] dul_dep;     //drained upper limit (field capacity) 
   [Input] double[] sw_dep;      //soil water
   [Input] double[] ll15_dep;    //15 bar lower limit
   [Param] int deficit;          //allowable soil water deficit
   [Param] double eff;           //irrigation efficiency
   [Param] string start;         //no irrigation will be applied before this date
   [Param] string end;           //no irrigation will be applied after this date
   [Param] int maxlayer;         //calculate soil water deficit to this layer (inclusive)
   [Param] int amount;
   [Output] double totalSWD;     //total soil water deficit for given layers
   
   private double[] DulDep;
   private double[] SwDep;
   private double[] LL15Dep;
   private double[] SWD;
   
   [EventHandler] public void OnInitialised()
   {
      DulDep = new double[dul_dep.Length];
      SwDep = new double[dul_dep.Length];
      LL15Dep = new double[dul_dep.Length];
      SWD = new double[dul_dep.Length];
      
      if (maxlayer &gt; dul_dep.Length)
      {
         Console.WriteLine("Warning: max layer is greater than number of layers.");
         Console.WriteLine("Using full profile for soil water deficit calculations.");
         maxlayer = 0;
      }
   }
     
   // The following event handler will be called each day at the beginning of the day
   [EventHandler] public void OnPrepare()
   {
      for (int i = 0; i &lt; (maxlayer &gt; 0 ? maxlayer : dul_dep.Length); i++)
      {
         SWD[i] = dul_dep[i] - sw_dep[i];
      }
      totalSWD = MathUtility.Sum(SWD);
      
      //if the soil water deficit is higer than the allowed deficit, and today is within the irrigation window
      if (totalSWD &gt; deficit &amp;&amp; DateUtility.WithinDates(start, today, end))
      {
         IrrigationApplicationType data = new IrrigationApplicationType(); //using a type means we can use defaults for values we don't change
         data.Amount = (int)totalSWD;
         Irrigation.Set("irrigation_efficiency", eff);
         Irrigation.Apply(data);
      }
   }  
}
       </text>
        </manager2>
        <Soil name="Rangitata_67a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Typic Fluvial Recent Soils</SoilType>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <YearOfSampling>0</YearOfSampling>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>2.34525</double>
            </BD>
            <AirDry>
              <double>0.0061049999999999993</double>
            </AirDry>
            <LL15>
              <double>0.0066</double>
            </LL15>
            <DUL>
              <double>0.029000000000000005</double>
            </DUL>
            <SAT>
              <double>0.10695000000000002</double>
            </SAT>
            <KS>
              <double>3600</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.0066</double>
              </LL>
              <KL>
                <double>0.00019830017413330868</double>
              </KL>
              <XF>
                <double>0.074870149945259742</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.007</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>80.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>11.645000000000001</double>
            </CEC>
            <ParticleSizeSand>
              <double>90.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>8.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>2.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <DepthWetSoil>NaN</DepthWetSoil>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">kl_Rangitata672.out</filename>
          <title>kl_Rangitata672</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>cover_green</variable>
            <variable>root_depth</variable>
            <variable>rlv(6-10)</variable>
            <variable>ep</variable>
            <variable>pet_total</variable>
            <variable>irrigation</variable>
            <variable>dul(6-10)</variable>
            <variable>ll15(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
      </area>
      <Graph name="CoverGreen">
        <Legend>
          <CheckedTitles> root_depth</CheckedTitles>
          <CheckedTitles> cover_green</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>root_depth</Y>
          <YRight>cover_green</YRight>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="RootLength">
        <Legend>
          <CheckedTitles> rlv(1)</CheckedTitles>
          <CheckedTitles> rlv(2)</CheckedTitles>
          <CheckedTitles> rlv(3)</CheckedTitles>
          <CheckedTitles> rlv(4)</CheckedTitles>
          <CheckedTitles> rlv(5)</CheckedTitles>
          <CheckedTitles> rlv(6)</CheckedTitles>
          <CheckedTitles> rlv(7)</CheckedTitles>
          <CheckedTitles> rlv(8)</CheckedTitles>
          <CheckedTitles> rlv(9)</CheckedTitles>
          <CheckedTitles> rlv(10)</CheckedTitles>
          <CheckedTitles> rlv(11)</CheckedTitles>
          <CheckedTitles> rlv(12)</CheckedTitles>
          <CheckedTitles> rlv(13)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>rlv(1)</Y>
          <Y>rlv(2)</Y>
          <Y>rlv(3)</Y>
          <Y>rlv(4)</Y>
          <Y>rlv(5)</Y>
          <Y>rlv(6)</Y>
          <Y>rlv(7)</Y>
          <Y>rlv(8)</Y>
          <Y>rlv(9)</Y>
          <Y>rlv(10)</Y>
          <Y>rlv(11)</Y>
          <Y>rlv(12)</Y>
          <Y>rlv(13)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="SWC layers">
        <Legend>
          <CheckedTitles> sw(6)</CheckedTitles>
          <CheckedTitles> sw(7)</CheckedTitles>
          <CheckedTitles> sw(8)</CheckedTitles>
          <CheckedTitles> sw(9)</CheckedTitles>
          <CheckedTitles> sw(10)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>sw(1)</Y>
          <Y>sw(2)</Y>
          <Y>sw(3)</Y>
          <Y>sw(4)</Y>
          <Y>sw(5)</Y>
          <Y>sw(6)</Y>
          <Y>sw(7)</Y>
          <Y>sw(8)</Y>
          <Y>sw(9)</Y>
          <Y>sw(10)</Y>
          <Y>sw(11)</Y>
          <Y>sw(12)</Y>
          <Y>sw(13)</Y>
          <Y>sw(14)</Y>
          <Y>sw(15)</Y>
          <Y>sw(16)</Y>
          <Y>sw(17)</Y>
          <Y>sw(18)</Y>
          <Y>sw(19)</Y>
          <Y>sw(20)</Y>
          <Y>sw(21)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="EP">
        <Legend>
          <CheckedTitles> kl_Rangitata67</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>ep</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
    </simulation>
    <simulation name="kl_Mataikona302">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <slurp />
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-sep</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
        <manager name="Sow on a fixed date">
          <ui>
            <category type="category" description="Sowing criteria" />
            <date type="text" description="Enter sowing date (dd-mmm) : ">1-jun</date>
            <category type="category" description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">wheat</crop>
            <density type="text" description="Enter sowing density  (plants/m2) : ">250</density>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">Wakaniu</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <row_spacing type="text" description="Enter row spacing (mm) : ">15</row_spacing>
          </ui>
          <script>
            <text>
        if (today = date('[date]') then
              [crop] sow plants =[density], sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
         endif
               </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category type="category" description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">15-sep</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">5000</fert_criteria>
            <category type="category" description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">Fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">1000</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea, nh4so4_n, rock_p, banded_p, broadcast_p" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script>
            <text>
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil &lt; [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <wheat>
          <ModifyKL type="yesno" description="Modify KL using CL, EC or ESP if found?">yes</ModifyKL>
          <MaxRootDepth description="Maximum rooting depth (mm) 0=no restriction">0</MaxRootDepth>
        </wheat>
        <fertiliser name="Fertiliser" />
        <micromet name="Micromet">
          <soilalbedo name="soilalbedo">0.23</soilalbedo>
          <a_interception name="a_interception">0.0</a_interception>
          <b_interception name="b_interception">0.0</b_interception>
          <c_interception name="c_interception">0.0</c_interception>
          <d_interception name="d_interception">0.0</d_interception>
        </micromet>
        <irrigation name="Irrigation">
          <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
          <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
          <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">.99</crit_fr_asw>
          <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
          <irrigation_allocation type="list" listvalues="on,off" description="Allocation limits">off</irrigation_allocation>
          <allocation type="text" description="Allocation in mm">0</allocation>
          <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
          <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
          <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
        </irrigation>
        <manager2 name="Irrigate on sw deficit">
          <ui>
            <deficit type="text" description="Irrigate when soil water deficit reaches this amount (mm)">2</deficit>
            <eff type="text" description="Irrigation efficiency (0-1)">1.0</eff>
            <start type="text" description="The earliest date irrigation will be applied (dd-mmm)">1-jun</start>
            <end type="text" description="The latest date irrigation will be applied (dd-mmm)">15-Sep</end>
            <maxlayer type="text" description="The deficit will be calculated to this soil layer (0 for full profile)">15</maxlayer>
            <amount type="text" description="Amount of irrigation to apply (0 for deficit)">0</amount>
          </ui>
          <text>using System;
using ModelFramework;
using CSGeneral;

public class Script 
{      
   [Link] Irrigation Irrigation; 
   [Input] DateTime today;
   [Input] double[] dul_dep;     //drained upper limit (field capacity) 
   [Input] double[] sw_dep;      //soil water
   [Input] double[] ll15_dep;    //15 bar lower limit
   [Param] int deficit;          //allowable soil water deficit
   [Param] double eff;           //irrigation efficiency
   [Param] string start;         //no irrigation will be applied before this date
   [Param] string end;           //no irrigation will be applied after this date
   [Param] int maxlayer;         //calculate soil water deficit to this layer (inclusive)
   [Param] int amount;
   [Output] double totalSWD;     //total soil water deficit for given layers
   
   private double[] DulDep;
   private double[] SwDep;
   private double[] LL15Dep;
   private double[] SWD;
   
   [EventHandler] public void OnInitialised()
   {
      DulDep = new double[dul_dep.Length];
      SwDep = new double[dul_dep.Length];
      LL15Dep = new double[dul_dep.Length];
      SWD = new double[dul_dep.Length];
      
      if (maxlayer &gt; dul_dep.Length)
      {
         Console.WriteLine("Warning: max layer is greater than number of layers.");
         Console.WriteLine("Using full profile for soil water deficit calculations.");
         maxlayer = 0;
      }
   }
     
   // The following event handler will be called each day at the beginning of the day
   [EventHandler] public void OnPrepare()
   {
      for (int i = 0; i &lt; (maxlayer &gt; 0 ? maxlayer : dul_dep.Length); i++)
      {
         SWD[i] = dul_dep[i] - sw_dep[i];
      }
      totalSWD = MathUtility.Sum(SWD);
      
      //if the soil water deficit is higer than the allowed deficit, and today is within the irrigation window
      if (totalSWD &gt; deficit &amp;&amp; DateUtility.WithinDates(start, today, end))
      {
         IrrigationApplicationType data = new IrrigationApplicationType(); //using a type means we can use defaults for values we don't change
         data.Amount = (int)totalSWD;
         Irrigation.Set("irrigation_efficiency", eff);
         Irrigation.Apply(data);
      }
   }  
}
       </text>
        </manager2>
        <Soil name="Mataikona_30a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Acidic Orthic Brown Soils</SoilType>
          <Region>
          </Region>
          <State>
          </State>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>1.3356</double>
            </BD>
            <AirDry>
              <double>0.26455</double>
            </AirDry>
            <LL15>
              <double>0.28600000000000003</double>
            </LL15>
            <DUL>
              <double>0.39799999999999996</double>
            </DUL>
            <SAT>
              <double>0.46128000000000008</double>
            </SAT>
            <KS>
              <double>360</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.28600000000000003</double>
              </LL>
              <KL>
                <double>0.00018590641324997689</double>
              </KL>
              <XF>
                <double>0.046328405328162174</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.286</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>0.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>24.605000000000004</double>
            </CEC>
            <ParticleSizeSand>
              <double>10.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>50.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>40.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">kl_Mataikona302.out</filename>
          <title>kl_Mataikona302</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>cover_green</variable>
            <variable>root_depth</variable>
            <variable>rlv(6-10)</variable>
            <variable>ep</variable>
            <variable>pet_total</variable>
            <variable>irrigation</variable>
            <variable>dul(6-10)</variable>
            <variable>ll15(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
      </area>
      <Graph name="CoverGreen">
        <Legend>
          <CheckedTitles> root_depth</CheckedTitles>
          <CheckedTitles> cover_green</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>root_depth</Y>
          <YRight>cover_green</YRight>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="RootLength">
        <Legend>
          <CheckedTitles> rlv(1)</CheckedTitles>
          <CheckedTitles> rlv(2)</CheckedTitles>
          <CheckedTitles> rlv(3)</CheckedTitles>
          <CheckedTitles> rlv(4)</CheckedTitles>
          <CheckedTitles> rlv(5)</CheckedTitles>
          <CheckedTitles> rlv(6)</CheckedTitles>
          <CheckedTitles> rlv(7)</CheckedTitles>
          <CheckedTitles> rlv(8)</CheckedTitles>
          <CheckedTitles> rlv(9)</CheckedTitles>
          <CheckedTitles> rlv(10)</CheckedTitles>
          <CheckedTitles> rlv(11)</CheckedTitles>
          <CheckedTitles> rlv(12)</CheckedTitles>
          <CheckedTitles> rlv(13)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>rlv(1)</Y>
          <Y>rlv(2)</Y>
          <Y>rlv(3)</Y>
          <Y>rlv(4)</Y>
          <Y>rlv(5)</Y>
          <Y>rlv(6)</Y>
          <Y>rlv(7)</Y>
          <Y>rlv(8)</Y>
          <Y>rlv(9)</Y>
          <Y>rlv(10)</Y>
          <Y>rlv(11)</Y>
          <Y>rlv(12)</Y>
          <Y>rlv(13)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="SWC layers">
        <Legend>
          <CheckedTitles> sw(6)</CheckedTitles>
          <CheckedTitles> sw(7)</CheckedTitles>
          <CheckedTitles> sw(8)</CheckedTitles>
          <CheckedTitles> sw(9)</CheckedTitles>
          <CheckedTitles> sw(10)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>sw(1)</Y>
          <Y>sw(2)</Y>
          <Y>sw(3)</Y>
          <Y>sw(4)</Y>
          <Y>sw(5)</Y>
          <Y>sw(6)</Y>
          <Y>sw(7)</Y>
          <Y>sw(8)</Y>
          <Y>sw(9)</Y>
          <Y>sw(10)</Y>
          <Y>sw(11)</Y>
          <Y>sw(12)</Y>
          <Y>sw(13)</Y>
          <Y>sw(14)</Y>
          <Y>sw(15)</Y>
          <Y>sw(16)</Y>
          <Y>sw(17)</Y>
          <Y>sw(18)</Y>
          <Y>sw(19)</Y>
          <Y>sw(20)</Y>
          <Y>sw(21)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="EP">
        <Legend>
          <CheckedTitles> kl_Mataikona30</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>ep</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
    </simulation>
    <simulation name="kl_Ayreburn172">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <slurp />
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-sep</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
        <manager name="Sow on a fixed date">
          <ui>
            <category type="category" description="Sowing criteria" />
            <date type="text" description="Enter sowing date (dd-mmm) : ">1-jun</date>
            <category type="category" description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">wheat</crop>
            <density type="text" description="Enter sowing density  (plants/m2) : ">250</density>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">Wakaniu</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <row_spacing type="text" description="Enter row spacing (mm) : ">15</row_spacing>
          </ui>
          <script>
            <text>
        if (today = date('[date]') then
              [crop] sow plants =[density], sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
         endif
               </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category type="category" description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">15-sep</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">5000</fert_criteria>
            <category type="category" description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">Fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">1000</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea, nh4so4_n, rock_p, banded_p, broadcast_p" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script>
            <text>
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil &lt; [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <wheat>
          <ModifyKL type="yesno" description="Modify KL using CL, EC or ESP if found?">yes</ModifyKL>
          <MaxRootDepth description="Maximum rooting depth (mm) 0=no restriction">0</MaxRootDepth>
        </wheat>
        <fertiliser name="Fertiliser" />
        <micromet name="Micromet">
          <soilalbedo name="soilalbedo">0.23</soilalbedo>
          <a_interception name="a_interception">0.0</a_interception>
          <b_interception name="b_interception">0.0</b_interception>
          <c_interception name="c_interception">0.0</c_interception>
          <d_interception name="d_interception">0.0</d_interception>
        </micromet>
        <irrigation name="Irrigation">
          <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
          <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
          <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">.99</crit_fr_asw>
          <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
          <irrigation_allocation type="list" listvalues="on,off" description="Allocation limits">off</irrigation_allocation>
          <allocation type="text" description="Allocation in mm">0</allocation>
          <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
          <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
          <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
        </irrigation>
        <manager2 name="Irrigate on sw deficit">
          <ui>
            <deficit type="text" description="Irrigate when soil water deficit reaches this amount (mm)">2</deficit>
            <eff type="text" description="Irrigation efficiency (0-1)">1.0</eff>
            <start type="text" description="The earliest date irrigation will be applied (dd-mmm)">1-jun</start>
            <end type="text" description="The latest date irrigation will be applied (dd-mmm)">15-Sep</end>
            <maxlayer type="text" description="The deficit will be calculated to this soil layer (0 for full profile)">15</maxlayer>
            <amount type="text" description="Amount of irrigation to apply (0 for deficit)">0</amount>
          </ui>
          <text>using System;
using ModelFramework;
using CSGeneral;

public class Script 
{      
   [Link] Irrigation Irrigation; 
   [Input] DateTime today;
   [Input] double[] dul_dep;     //drained upper limit (field capacity) 
   [Input] double[] sw_dep;      //soil water
   [Input] double[] ll15_dep;    //15 bar lower limit
   [Param] int deficit;          //allowable soil water deficit
   [Param] double eff;           //irrigation efficiency
   [Param] string start;         //no irrigation will be applied before this date
   [Param] string end;           //no irrigation will be applied after this date
   [Param] int maxlayer;         //calculate soil water deficit to this layer (inclusive)
   [Param] int amount;
   [Output] double totalSWD;     //total soil water deficit for given layers
   
   private double[] DulDep;
   private double[] SwDep;
   private double[] LL15Dep;
   private double[] SWD;
   
   [EventHandler] public void OnInitialised()
   {
      DulDep = new double[dul_dep.Length];
      SwDep = new double[dul_dep.Length];
      LL15Dep = new double[dul_dep.Length];
      SWD = new double[dul_dep.Length];
      
      if (maxlayer &gt; dul_dep.Length)
      {
         Console.WriteLine("Warning: max layer is greater than number of layers.");
         Console.WriteLine("Using full profile for soil water deficit calculations.");
         maxlayer = 0;
      }
   }
     
   // The following event handler will be called each day at the beginning of the day
   [EventHandler] public void OnPrepare()
   {
      for (int i = 0; i &lt; (maxlayer &gt; 0 ? maxlayer : dul_dep.Length); i++)
      {
         SWD[i] = dul_dep[i] - sw_dep[i];
      }
      totalSWD = MathUtility.Sum(SWD);
      
      //if the soil water deficit is higer than the allowed deficit, and today is within the irrigation window
      if (totalSWD &gt; deficit &amp;&amp; DateUtility.WithinDates(start, today, end))
      {
         IrrigationApplicationType data = new IrrigationApplicationType(); //using a type means we can use defaults for values we don't change
         data.Amount = (int)totalSWD;
         Irrigation.Set("irrigation_efficiency", eff);
         Irrigation.Apply(data);
      }
   }  
}
       </text>
        </manager2>
        <Soil name="Ayreburn_17a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Argillic Orthic Gley Soils</SoilType>
          <Region>
          </Region>
          <State>
          </State>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>1.0759</double>
            </BD>
            <AirDry>
              <double>0.300625</double>
            </AirDry>
            <LL15>
              <double>0.325</double>
            </LL15>
            <DUL>
              <double>0.528</double>
            </DUL>
            <SAT>
              <double>0.55242</double>
            </SAT>
            <KS>
              <double>72</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.325</double>
              </LL>
              <KL>
                <double>0.00014872513059998151</double>
              </KL>
              <XF>
                <double>0.12099573281487792</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.325</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>0.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>27.739</double>
            </CEC>
            <ParticleSizeSand>
              <double>8.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>37.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>55.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">kl_Ayreburn172.out</filename>
          <title>kl_Ayreburn172</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>cover_green</variable>
            <variable>root_depth</variable>
            <variable>rlv(6-10)</variable>
            <variable>ep</variable>
            <variable>pet_total</variable>
            <variable>irrigation</variable>
            <variable>dul(6-10)</variable>
            <variable>ll15(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
      </area>
      <Graph name="CoverGreen">
        <Legend>
          <CheckedTitles> root_depth</CheckedTitles>
          <CheckedTitles> cover_green</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>root_depth</Y>
          <YRight>cover_green</YRight>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="RootLength">
        <Legend>
          <CheckedTitles> rlv(1)</CheckedTitles>
          <CheckedTitles> rlv(2)</CheckedTitles>
          <CheckedTitles> rlv(3)</CheckedTitles>
          <CheckedTitles> rlv(4)</CheckedTitles>
          <CheckedTitles> rlv(5)</CheckedTitles>
          <CheckedTitles> rlv(6)</CheckedTitles>
          <CheckedTitles> rlv(7)</CheckedTitles>
          <CheckedTitles> rlv(8)</CheckedTitles>
          <CheckedTitles> rlv(9)</CheckedTitles>
          <CheckedTitles> rlv(10)</CheckedTitles>
          <CheckedTitles> rlv(11)</CheckedTitles>
          <CheckedTitles> rlv(12)</CheckedTitles>
          <CheckedTitles> rlv(13)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>rlv(1)</Y>
          <Y>rlv(2)</Y>
          <Y>rlv(3)</Y>
          <Y>rlv(4)</Y>
          <Y>rlv(5)</Y>
          <Y>rlv(6)</Y>
          <Y>rlv(7)</Y>
          <Y>rlv(8)</Y>
          <Y>rlv(9)</Y>
          <Y>rlv(10)</Y>
          <Y>rlv(11)</Y>
          <Y>rlv(12)</Y>
          <Y>rlv(13)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="SWC layers">
        <Legend>
          <CheckedTitles> sw(6)</CheckedTitles>
          <CheckedTitles> sw(7)</CheckedTitles>
          <CheckedTitles> sw(8)</CheckedTitles>
          <CheckedTitles> sw(9)</CheckedTitles>
          <CheckedTitles> sw(10)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>sw(1)</Y>
          <Y>sw(2)</Y>
          <Y>sw(3)</Y>
          <Y>sw(4)</Y>
          <Y>sw(5)</Y>
          <Y>sw(6)</Y>
          <Y>sw(7)</Y>
          <Y>sw(8)</Y>
          <Y>sw(9)</Y>
          <Y>sw(10)</Y>
          <Y>sw(11)</Y>
          <Y>sw(12)</Y>
          <Y>sw(13)</Y>
          <Y>sw(14)</Y>
          <Y>sw(15)</Y>
          <Y>sw(16)</Y>
          <Y>sw(17)</Y>
          <Y>sw(18)</Y>
          <Y>sw(19)</Y>
          <Y>sw(20)</Y>
          <Y>sw(21)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="EP">
        <Legend>
          <CheckedTitles> kl_ApsimVYc1</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>ep</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
    </simulation>
    <simulation name="kl_Otorohanga572">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <slurp />
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-sep</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
        <manager name="Sow on a fixed date">
          <ui>
            <category type="category" description="Sowing criteria" />
            <date type="text" description="Enter sowing date (dd-mmm) : ">1-jun</date>
            <category type="category" description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">wheat</crop>
            <density type="text" description="Enter sowing density  (plants/m2) : ">250</density>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">Wakaniu</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <row_spacing type="text" description="Enter row spacing (mm) : ">15</row_spacing>
          </ui>
          <script>
            <text>
        if (today = date('[date]') then
              [crop] sow plants =[density], sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
         endif
               </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category type="category" description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">15-sep</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">5000</fert_criteria>
            <category type="category" description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">Fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">1000</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea, nh4so4_n, rock_p, banded_p, broadcast_p" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script>
            <text>
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil &lt; [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <wheat>
          <ModifyKL type="yesno" description="Modify KL using CL, EC or ESP if found?">yes</ModifyKL>
          <MaxRootDepth description="Maximum rooting depth (mm) 0=no restriction">0</MaxRootDepth>
        </wheat>
        <fertiliser name="Fertiliser" />
        <micromet name="Micromet">
          <soilalbedo name="soilalbedo">0.23</soilalbedo>
          <a_interception name="a_interception">0.0</a_interception>
          <b_interception name="b_interception">0.0</b_interception>
          <c_interception name="c_interception">0.0</c_interception>
          <d_interception name="d_interception">0.0</d_interception>
        </micromet>
        <irrigation name="Irrigation">
          <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
          <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
          <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">.99</crit_fr_asw>
          <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
          <irrigation_allocation type="list" listvalues="on,off" description="Allocation limits">off</irrigation_allocation>
          <allocation type="text" description="Allocation in mm">0</allocation>
          <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
          <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
          <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
        </irrigation>
        <manager2 name="Irrigate on sw deficit">
          <ui>
            <deficit type="text" description="Irrigate when soil water deficit reaches this amount (mm)">2</deficit>
            <eff type="text" description="Irrigation efficiency (0-1)">1.0</eff>
            <start type="text" description="The earliest date irrigation will be applied (dd-mmm)">1-jun</start>
            <end type="text" description="The latest date irrigation will be applied (dd-mmm)">15-Sep</end>
            <maxlayer type="text" description="The deficit will be calculated to this soil layer (0 for full profile)">15</maxlayer>
            <amount type="text" description="Amount of irrigation to apply (0 for deficit)">0</amount>
          </ui>
          <text>using System;
using ModelFramework;
using CSGeneral;

public class Script 
{      
   [Link] Irrigation Irrigation; 
   [Input] DateTime today;
   [Input] double[] dul_dep;     //drained upper limit (field capacity) 
   [Input] double[] sw_dep;      //soil water
   [Input] double[] ll15_dep;    //15 bar lower limit
   [Param] int deficit;          //allowable soil water deficit
   [Param] double eff;           //irrigation efficiency
   [Param] string start;         //no irrigation will be applied before this date
   [Param] string end;           //no irrigation will be applied after this date
   [Param] int maxlayer;         //calculate soil water deficit to this layer (inclusive)
   [Param] int amount;
   [Output] double totalSWD;     //total soil water deficit for given layers
   
   private double[] DulDep;
   private double[] SwDep;
   private double[] LL15Dep;
   private double[] SWD;
   
   [EventHandler] public void OnInitialised()
   {
      DulDep = new double[dul_dep.Length];
      SwDep = new double[dul_dep.Length];
      LL15Dep = new double[dul_dep.Length];
      SWD = new double[dul_dep.Length];
      
      if (maxlayer &gt; dul_dep.Length)
      {
         Console.WriteLine("Warning: max layer is greater than number of layers.");
         Console.WriteLine("Using full profile for soil water deficit calculations.");
         maxlayer = 0;
      }
   }
     
   // The following event handler will be called each day at the beginning of the day
   [EventHandler] public void OnPrepare()
   {
      for (int i = 0; i &lt; (maxlayer &gt; 0 ? maxlayer : dul_dep.Length); i++)
      {
         SWD[i] = dul_dep[i] - sw_dep[i];
      }
      totalSWD = MathUtility.Sum(SWD);
      
      //if the soil water deficit is higer than the allowed deficit, and today is within the irrigation window
      if (totalSWD &gt; deficit &amp;&amp; DateUtility.WithinDates(start, today, end))
      {
         IrrigationApplicationType data = new IrrigationApplicationType(); //using a type means we can use defaults for values we don't change
         data.Amount = (int)totalSWD;
         Irrigation.Set("irrigation_efficiency", eff);
         Irrigation.Apply(data);
      }
   }  
}
       </text>
        </manager2>
        <Soil name="Otorohanga_57a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Typic Orthic Allophanic Soils</SoilType>
          <Region>
          </Region>
          <State>
          </State>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <memo name="Warning_MissingParameters">Smap was not able to supply a complete set of parameters. You will need to provide your own estimation for these parameters to make the soil operational.  See the memo under Water section for further details.</memo>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>0.8294499999999998</double>
            </BD>
            <AirDry>
              <double>0.259</double>
            </AirDry>
            <LL15>
              <double>0.28</double>
            </LL15>
            <DUL>
              <double>0.508</double>
            </DUL>
            <SAT>
              <double>0.63891000000000009</double>
            </SAT>
            <KS>
              <double>960</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.28</double>
              </LL>
              <KL>
                <double>0.00018590641324997689</double>
              </KL>
              <XF>
                <double>0.058894945909171818</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.28</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
            <memo name="Handling_MissingParameters">The following tags are missing Smap parameters: KS. You will need to provide your own estimation for the parameters with the dummy -12345.67 value.</memo>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>0.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>19.26</double>
            </CEC>
            <ParticleSizeSand>
              <double>45.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>30.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>25.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">kl_Otorohanga572.out</filename>
          <title>kl_Otorohanga572</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>cover_green</variable>
            <variable>root_depth</variable>
            <variable>rlv(6-10)</variable>
            <variable>ep</variable>
            <variable>pet_total</variable>
            <variable>irrigation</variable>
            <variable>dul(6-10)</variable>
            <variable>ll15(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
      </area>
      <Graph name="CoverGreen">
        <Legend>
          <CheckedTitles> root_depth</CheckedTitles>
          <CheckedTitles> cover_green</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>root_depth</Y>
          <YRight>cover_green</YRight>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="RootLength">
        <Legend>
          <CheckedTitles> rlv(1)</CheckedTitles>
          <CheckedTitles> rlv(2)</CheckedTitles>
          <CheckedTitles> rlv(3)</CheckedTitles>
          <CheckedTitles> rlv(4)</CheckedTitles>
          <CheckedTitles> rlv(5)</CheckedTitles>
          <CheckedTitles> rlv(6)</CheckedTitles>
          <CheckedTitles> rlv(7)</CheckedTitles>
          <CheckedTitles> rlv(8)</CheckedTitles>
          <CheckedTitles> rlv(9)</CheckedTitles>
          <CheckedTitles> rlv(10)</CheckedTitles>
          <CheckedTitles> rlv(11)</CheckedTitles>
          <CheckedTitles> rlv(12)</CheckedTitles>
          <CheckedTitles> rlv(13)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>rlv(1)</Y>
          <Y>rlv(2)</Y>
          <Y>rlv(3)</Y>
          <Y>rlv(4)</Y>
          <Y>rlv(5)</Y>
          <Y>rlv(6)</Y>
          <Y>rlv(7)</Y>
          <Y>rlv(8)</Y>
          <Y>rlv(9)</Y>
          <Y>rlv(10)</Y>
          <Y>rlv(11)</Y>
          <Y>rlv(12)</Y>
          <Y>rlv(13)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="SWC layers">
        <Legend>
          <CheckedTitles> sw(6)</CheckedTitles>
          <CheckedTitles> sw(7)</CheckedTitles>
          <CheckedTitles> sw(8)</CheckedTitles>
          <CheckedTitles> sw(9)</CheckedTitles>
          <CheckedTitles> sw(10)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>sw(1)</Y>
          <Y>sw(2)</Y>
          <Y>sw(3)</Y>
          <Y>sw(4)</Y>
          <Y>sw(5)</Y>
          <Y>sw(6)</Y>
          <Y>sw(7)</Y>
          <Y>sw(8)</Y>
          <Y>sw(9)</Y>
          <Y>sw(10)</Y>
          <Y>sw(11)</Y>
          <Y>sw(12)</Y>
          <Y>sw(13)</Y>
          <Y>sw(14)</Y>
          <Y>sw(15)</Y>
          <Y>sw(16)</Y>
          <Y>sw(17)</Y>
          <Y>sw(18)</Y>
          <Y>sw(19)</Y>
          <Y>sw(20)</Y>
          <Y>sw(21)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="EP">
        <Legend>
          <CheckedTitles> kl_Otorohanga57</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>ep</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
    </simulation>
    <simulation name="kl_Turangi402">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <slurp />
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-sep</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
        <manager name="Sow on a fixed date">
          <ui>
            <category type="category" description="Sowing criteria" />
            <date type="text" description="Enter sowing date (dd-mmm) : ">1-jun</date>
            <category type="category" description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">wheat</crop>
            <density type="text" description="Enter sowing density  (plants/m2) : ">250</density>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">Wakaniu</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <row_spacing type="text" description="Enter row spacing (mm) : ">15</row_spacing>
          </ui>
          <script>
            <text>
        if (today = date('[date]') then
              [crop] sow plants =[density], sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
         endif
               </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category type="category" description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">15-sep</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">5000</fert_criteria>
            <category type="category" description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">Fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">1000</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea, nh4so4_n, rock_p, banded_p, broadcast_p" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script>
            <text>
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil &lt; [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <wheat>
          <ModifyKL type="yesno" description="Modify KL using CL, EC or ESP if found?">yes</ModifyKL>
          <MaxRootDepth description="Maximum rooting depth (mm) 0=no restriction">0</MaxRootDepth>
        </wheat>
        <fertiliser name="Fertiliser" />
        <micromet name="Micromet">
          <soilalbedo name="soilalbedo">0.23</soilalbedo>
          <a_interception name="a_interception">0.0</a_interception>
          <b_interception name="b_interception">0.0</b_interception>
          <c_interception name="c_interception">0.0</c_interception>
          <d_interception name="d_interception">0.0</d_interception>
        </micromet>
        <irrigation name="Irrigation">
          <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
          <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
          <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">.99</crit_fr_asw>
          <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
          <irrigation_allocation type="list" listvalues="on,off" description="Allocation limits">off</irrigation_allocation>
          <allocation type="text" description="Allocation in mm">0</allocation>
          <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
          <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
          <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
        </irrigation>
        <manager2 name="Irrigate on sw deficit">
          <ui>
            <deficit type="text" description="Irrigate when soil water deficit reaches this amount (mm)">2</deficit>
            <eff type="text" description="Irrigation efficiency (0-1)">1.0</eff>
            <start type="text" description="The earliest date irrigation will be applied (dd-mmm)">1-jun</start>
            <end type="text" description="The latest date irrigation will be applied (dd-mmm)">15-Sep</end>
            <maxlayer type="text" description="The deficit will be calculated to this soil layer (0 for full profile)">15</maxlayer>
            <amount type="text" description="Amount of irrigation to apply (0 for deficit)">0</amount>
          </ui>
          <text>using System;
using ModelFramework;
using CSGeneral;

public class Script 
{      
   [Link] Irrigation Irrigation; 
   [Input] DateTime today;
   [Input] double[] dul_dep;     //drained upper limit (field capacity) 
   [Input] double[] sw_dep;      //soil water
   [Input] double[] ll15_dep;    //15 bar lower limit
   [Param] int deficit;          //allowable soil water deficit
   [Param] double eff;           //irrigation efficiency
   [Param] string start;         //no irrigation will be applied before this date
   [Param] string end;           //no irrigation will be applied after this date
   [Param] int maxlayer;         //calculate soil water deficit to this layer (inclusive)
   [Param] int amount;
   [Output] double totalSWD;     //total soil water deficit for given layers
   
   private double[] DulDep;
   private double[] SwDep;
   private double[] LL15Dep;
   private double[] SWD;
   
   [EventHandler] public void OnInitialised()
   {
      DulDep = new double[dul_dep.Length];
      SwDep = new double[dul_dep.Length];
      LL15Dep = new double[dul_dep.Length];
      SWD = new double[dul_dep.Length];
      
      if (maxlayer &gt; dul_dep.Length)
      {
         Console.WriteLine("Warning: max layer is greater than number of layers.");
         Console.WriteLine("Using full profile for soil water deficit calculations.");
         maxlayer = 0;
      }
   }
     
   // The following event handler will be called each day at the beginning of the day
   [EventHandler] public void OnPrepare()
   {
      for (int i = 0; i &lt; (maxlayer &gt; 0 ? maxlayer : dul_dep.Length); i++)
      {
         SWD[i] = dul_dep[i] - sw_dep[i];
      }
      totalSWD = MathUtility.Sum(SWD);
      
      //if the soil water deficit is higer than the allowed deficit, and today is within the irrigation window
      if (totalSWD &gt; deficit &amp;&amp; DateUtility.WithinDates(start, today, end))
      {
         IrrigationApplicationType data = new IrrigationApplicationType(); //using a type means we can use defaults for values we don't change
         data.Amount = (int)totalSWD;
         Irrigation.Set("irrigation_efficiency", eff);
         Irrigation.Apply(data);
      }
   }  
}
       </text>
        </manager2>
        <Soil name="Turangi_40a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Typic Orthic Pumice Soils</SoilType>
          <Region>
          </Region>
          <State>
          </State>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <memo name="Warning_MissingParameters">Smap was not able to supply a complete set of parameters. You will need to provide your own estimation for these parameters to make the soil operational.  See the memo under Water section for further details.</memo>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>1.0918</double>
            </BD>
            <AirDry>
              <double>0.061975000000000009</double>
            </AirDry>
            <LL15>
              <double>0.067</double>
            </LL15>
            <DUL>
              <double>0.214</double>
            </DUL>
            <SAT>
              <double>0.54684</double>
            </SAT>
            <KS>
              <double>1920</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.067</double>
              </LL>
              <KL>
                <double>0.00022308769589997226</double>
              </KL>
              <XF>
                <double>0.022550455808510915</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.067</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
            <memo name="Handling_MissingParameters">The following tags are missing Smap parameters: KS. You will need to provide your own estimation for the parameters with the dummy -12345.67 value.</memo>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>0.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>11.979000000000001</double>
            </CEC>
            <ParticleSizeSand>
              <double>88.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>9.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>3.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">kl_Turangi402.out</filename>
          <title>kl_Turangi402</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>cover_green</variable>
            <variable>root_depth</variable>
            <variable>rlv(6-10)</variable>
            <variable>ep</variable>
            <variable>pet_total</variable>
            <variable>irrigation</variable>
            <variable>dul(6-10)</variable>
            <variable>ll15(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
      </area>
      <Graph name="CoverGreen">
        <Legend>
          <CheckedTitles> root_depth</CheckedTitles>
          <CheckedTitles> cover_green</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>root_depth</Y>
          <YRight>cover_green</YRight>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="RootLength">
        <Legend>
          <CheckedTitles> rlv(1)</CheckedTitles>
          <CheckedTitles> rlv(2)</CheckedTitles>
          <CheckedTitles> rlv(3)</CheckedTitles>
          <CheckedTitles> rlv(4)</CheckedTitles>
          <CheckedTitles> rlv(5)</CheckedTitles>
          <CheckedTitles> rlv(6)</CheckedTitles>
          <CheckedTitles> rlv(7)</CheckedTitles>
          <CheckedTitles> rlv(8)</CheckedTitles>
          <CheckedTitles> rlv(9)</CheckedTitles>
          <CheckedTitles> rlv(10)</CheckedTitles>
          <CheckedTitles> rlv(11)</CheckedTitles>
          <CheckedTitles> rlv(12)</CheckedTitles>
          <CheckedTitles> rlv(13)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>rlv(1)</Y>
          <Y>rlv(2)</Y>
          <Y>rlv(3)</Y>
          <Y>rlv(4)</Y>
          <Y>rlv(5)</Y>
          <Y>rlv(6)</Y>
          <Y>rlv(7)</Y>
          <Y>rlv(8)</Y>
          <Y>rlv(9)</Y>
          <Y>rlv(10)</Y>
          <Y>rlv(11)</Y>
          <Y>rlv(12)</Y>
          <Y>rlv(13)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="SWC layers">
        <Legend>
          <CheckedTitles> sw(6)</CheckedTitles>
          <CheckedTitles> sw(7)</CheckedTitles>
          <CheckedTitles> sw(8)</CheckedTitles>
          <CheckedTitles> sw(9)</CheckedTitles>
          <CheckedTitles> sw(10)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>sw(1)</Y>
          <Y>sw(2)</Y>
          <Y>sw(3)</Y>
          <Y>sw(4)</Y>
          <Y>sw(5)</Y>
          <Y>sw(6)</Y>
          <Y>sw(7)</Y>
          <Y>sw(8)</Y>
          <Y>sw(9)</Y>
          <Y>sw(10)</Y>
          <Y>sw(11)</Y>
          <Y>sw(12)</Y>
          <Y>sw(13)</Y>
          <Y>sw(14)</Y>
          <Y>sw(15)</Y>
          <Y>sw(16)</Y>
          <Y>sw(17)</Y>
          <Y>sw(18)</Y>
          <Y>sw(19)</Y>
          <Y>sw(20)</Y>
          <Y>sw(21)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="EP">
        <Legend>
          <CheckedTitles> kl_Turangi40</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>ep</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
    </simulation>
    <simulation name="kl_Taupo972">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <slurp />
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-sep</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
        <manager name="Sow on a fixed date">
          <ui>
            <category type="category" description="Sowing criteria" />
            <date type="text" description="Enter sowing date (dd-mmm) : ">1-jun</date>
            <category type="category" description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">wheat</crop>
            <density type="text" description="Enter sowing density  (plants/m2) : ">250</density>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">Wakaniu</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <row_spacing type="text" description="Enter row spacing (mm) : ">15</row_spacing>
          </ui>
          <script>
            <text>
        if (today = date('[date]') then
              [crop] sow plants =[density], sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
         endif
               </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category type="category" description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">15-sep</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">5000</fert_criteria>
            <category type="category" description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">Fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">1000</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea, nh4so4_n, rock_p, banded_p, broadcast_p" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script>
            <text>
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil &lt; [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <wheat>
          <ModifyKL type="yesno" description="Modify KL using CL, EC or ESP if found?">yes</ModifyKL>
          <MaxRootDepth description="Maximum rooting depth (mm) 0=no restriction">0</MaxRootDepth>
        </wheat>
        <fertiliser name="Fertiliser" />
        <micromet name="Micromet">
          <soilalbedo name="soilalbedo">0.23</soilalbedo>
          <a_interception name="a_interception">0.0</a_interception>
          <b_interception name="b_interception">0.0</b_interception>
          <c_interception name="c_interception">0.0</c_interception>
          <d_interception name="d_interception">0.0</d_interception>
        </micromet>
        <irrigation name="Irrigation">
          <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
          <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
          <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">.99</crit_fr_asw>
          <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
          <irrigation_allocation type="list" listvalues="on,off" description="Allocation limits">off</irrigation_allocation>
          <allocation type="text" description="Allocation in mm">0</allocation>
          <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
          <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
          <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
        </irrigation>
        <manager2 name="Irrigate on sw deficit">
          <ui>
            <deficit type="text" description="Irrigate when soil water deficit reaches this amount (mm)">2</deficit>
            <eff type="text" description="Irrigation efficiency (0-1)">1.0</eff>
            <start type="text" description="The earliest date irrigation will be applied (dd-mmm)">1-jun</start>
            <end type="text" description="The latest date irrigation will be applied (dd-mmm)">15-Sep</end>
            <maxlayer type="text" description="The deficit will be calculated to this soil layer (0 for full profile)">15</maxlayer>
            <amount type="text" description="Amount of irrigation to apply (0 for deficit)">0</amount>
          </ui>
          <text>using System;
using ModelFramework;
using CSGeneral;

public class Script 
{      
   [Link] Irrigation Irrigation; 
   [Input] DateTime today;
   [Input] double[] dul_dep;     //drained upper limit (field capacity) 
   [Input] double[] sw_dep;      //soil water
   [Input] double[] ll15_dep;    //15 bar lower limit
   [Param] int deficit;          //allowable soil water deficit
   [Param] double eff;           //irrigation efficiency
   [Param] string start;         //no irrigation will be applied before this date
   [Param] string end;           //no irrigation will be applied after this date
   [Param] int maxlayer;         //calculate soil water deficit to this layer (inclusive)
   [Param] int amount;
   [Output] double totalSWD;     //total soil water deficit for given layers
   
   private double[] DulDep;
   private double[] SwDep;
   private double[] LL15Dep;
   private double[] SWD;
   
   [EventHandler] public void OnInitialised()
   {
      DulDep = new double[dul_dep.Length];
      SwDep = new double[dul_dep.Length];
      LL15Dep = new double[dul_dep.Length];
      SWD = new double[dul_dep.Length];
      
      if (maxlayer &gt; dul_dep.Length)
      {
         Console.WriteLine("Warning: max layer is greater than number of layers.");
         Console.WriteLine("Using full profile for soil water deficit calculations.");
         maxlayer = 0;
      }
   }
     
   // The following event handler will be called each day at the beginning of the day
   [EventHandler] public void OnPrepare()
   {
      for (int i = 0; i &lt; (maxlayer &gt; 0 ? maxlayer : dul_dep.Length); i++)
      {
         SWD[i] = dul_dep[i] - sw_dep[i];
      }
      totalSWD = MathUtility.Sum(SWD);
      
      //if the soil water deficit is higer than the allowed deficit, and today is within the irrigation window
      if (totalSWD &gt; deficit &amp;&amp; DateUtility.WithinDates(start, today, end))
      {
         IrrigationApplicationType data = new IrrigationApplicationType(); //using a type means we can use defaults for values we don't change
         data.Amount = (int)totalSWD;
         Irrigation.Set("irrigation_efficiency", eff);
         Irrigation.Apply(data);
      }
   }  
}
       </text>
        </manager2>
        <Soil name="Taupo_97a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Immature Orthic Pumice Soils</SoilType>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <YearOfSampling>0</YearOfSampling>
          <memo name="Warning_MissingParameters">Smap was not able to supply a complete set of parameters. You will need to provide your own estimation for these parameters to make the soil operational.  See the memo under Water section for further details.</memo>
          <LayerStructure>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>1.0971</double>
            </BD>
            <AirDry>
              <double>0.0555</double>
            </AirDry>
            <LL15>
              <double>0.06</double>
            </LL15>
            <DUL>
              <double>0.212</double>
            </DUL>
            <SAT>
              <double>0.54498</double>
            </SAT>
            <KS>
              <double>2400</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.06</double>
              </LL>
              <KL>
                <double>0.00022308769589997226</double>
              </KL>
              <XF>
                <double>0.036443214389916538</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.06</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
            <memo name="Handling_MissingParameters">The following tags are missing Smap parameters: KS. You will need to provide your own estimation for the parameters with the dummy -12345.67 value.</memo>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>0.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>11.980000000000002</double>
            </CEC>
            <ParticleSizeSand>
              <double>85.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>13.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>2.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">kl_Taupo972.out</filename>
          <title>kl_Taupo972</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>cover_green</variable>
            <variable>root_depth</variable>
            <variable>rlv(6-10)</variable>
            <variable>ep</variable>
            <variable>pet_total</variable>
            <variable>irrigation</variable>
            <variable>dul(6-10)</variable>
            <variable>ll15(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
      </area>
      <Graph name="CoverGreen">
        <Legend>
          <CheckedTitles> root_depth</CheckedTitles>
          <CheckedTitles> cover_green</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>root_depth</Y>
          <YRight>cover_green</YRight>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="RootLength">
        <Legend>
          <CheckedTitles> rlv(1)</CheckedTitles>
          <CheckedTitles> rlv(2)</CheckedTitles>
          <CheckedTitles> rlv(3)</CheckedTitles>
          <CheckedTitles> rlv(4)</CheckedTitles>
          <CheckedTitles> rlv(5)</CheckedTitles>
          <CheckedTitles> rlv(6)</CheckedTitles>
          <CheckedTitles> rlv(7)</CheckedTitles>
          <CheckedTitles> rlv(8)</CheckedTitles>
          <CheckedTitles> rlv(9)</CheckedTitles>
          <CheckedTitles> rlv(10)</CheckedTitles>
          <CheckedTitles> rlv(11)</CheckedTitles>
          <CheckedTitles> rlv(12)</CheckedTitles>
          <CheckedTitles> rlv(13)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>rlv(1)</Y>
          <Y>rlv(2)</Y>
          <Y>rlv(3)</Y>
          <Y>rlv(4)</Y>
          <Y>rlv(5)</Y>
          <Y>rlv(6)</Y>
          <Y>rlv(7)</Y>
          <Y>rlv(8)</Y>
          <Y>rlv(9)</Y>
          <Y>rlv(10)</Y>
          <Y>rlv(11)</Y>
          <Y>rlv(12)</Y>
          <Y>rlv(13)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="SWC layers">
        <Legend>
          <CheckedTitles> sw(6)</CheckedTitles>
          <CheckedTitles> sw(7)</CheckedTitles>
          <CheckedTitles> sw(8)</CheckedTitles>
          <CheckedTitles> sw(9)</CheckedTitles>
          <CheckedTitles> sw(10)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>sw(1)</Y>
          <Y>sw(2)</Y>
          <Y>sw(3)</Y>
          <Y>sw(4)</Y>
          <Y>sw(5)</Y>
          <Y>sw(6)</Y>
          <Y>sw(7)</Y>
          <Y>sw(8)</Y>
          <Y>sw(9)</Y>
          <Y>sw(10)</Y>
          <Y>sw(11)</Y>
          <Y>sw(12)</Y>
          <Y>sw(13)</Y>
          <Y>sw(14)</Y>
          <Y>sw(15)</Y>
          <Y>sw(16)</Y>
          <Y>sw(17)</Y>
          <Y>sw(18)</Y>
          <Y>sw(19)</Y>
          <Y>sw(20)</Y>
          <Y>sw(21)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="EP">
        <Legend>
          <CheckedTitles> kl_Taupo</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>ep</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
    </simulation>
    <simulation name="kl_TeToka82">
      <metfile name="met">
        <filename name="filename" input="yes">lincoln.met</filename>
      </metfile>
      <clock name="Clock">
        <start_date type="date" description="Enter the start date of the simulation">01/06/2009</start_date>
        <end_date type="date" description="Enter the end date of the simulation">30/05/2010</end_date>
      </clock>
      <summaryfile />
      <area name="paddock">
        <surfaceom name="surface organic matter">
          <PoolName type="text" description="Organic Matter pool name">barley</PoolName>
          <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">barley</type>
          <mass type="text" description="Initial surface residue (kg/ha)">500</mass>
          <cnr type="text" description="C:N ratio of initial residue">80</cnr>
          <standing_fraction type="text" description="Fraction of residue standing">1</standing_fraction>
        </surfaceom>
        <slurp />
        <manager name="ClimateControl">
          <ui>
            <category type="category" description="Climate Control Window" />
            <date1 type="ddmmmdate" description="Enter window START date (dd-mmm) : ">1-jun</date1>
            <date2 type="ddmmmdate" description="Enter window END date (dd-mmm) : ">15-sep</date2>
            <category type="category" description="Climate Change Parameters" />
            <MaxtChange type="text" description="Change in maximum temperature (oC):">1</MaxtChange>
            <MintChange type="text" description="Change in minimum temperature (oC):">1</MintChange>
            <RainChange type="text" description="Relative change in daily rainfall (%):">-10</RainChange>
            <RadnChange type="text" description="Relative change in daily radiation (%):">0</RadnChange>
            <CO2 type="text" description="Atmospheric CO2 Concentration (ppm)">350</CO2>
          </ui>
          <script>
            <text>
if (date_within('[date1], [date2]') = 1) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif

if (date_within('[date1], [date2]') = 0) then
   maxt = 25
   mint = 15
   rain = 0
   radn = 30
   vp = 10
endif</text>
            <event>prenewmet</event>
          </script>
          <script>
            <text>co2 = [CO2]
tav = tav + ([MaxtChange] + [MintChange]) / 2
            </text>
            <event>Init</event>
          </script>
        </manager>
        <manager name="Sow on a fixed date">
          <ui>
            <category type="category" description="Sowing criteria" />
            <date type="text" description="Enter sowing date (dd-mmm) : ">1-jun</date>
            <category type="category" description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">wheat</crop>
            <density type="text" description="Enter sowing density  (plants/m2) : ">250</density>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">Wakaniu</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <row_spacing type="text" description="Enter row spacing (mm) : ">15</row_spacing>
          </ui>
          <script>
            <text>
        if (today = date('[date]') then
              [crop] sow plants =[density], sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
         endif
               </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category type="category" description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">15-sep</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">5000</fert_criteria>
            <category type="category" description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">Fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">1000</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea, nh4so4_n, rock_p, banded_p, broadcast_p" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script>
            <text>
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil &lt; [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif </text>
            <event>start_of_day</event>
          </script>
        </manager>
        <wheat>
          <ModifyKL type="yesno" description="Modify KL using CL, EC or ESP if found?">yes</ModifyKL>
          <MaxRootDepth description="Maximum rooting depth (mm) 0=no restriction">0</MaxRootDepth>
        </wheat>
        <fertiliser name="Fertiliser" />
        <micromet name="Micromet">
          <soilalbedo name="soilalbedo">0.23</soilalbedo>
          <a_interception name="a_interception">0.0</a_interception>
          <b_interception name="b_interception">0.0</b_interception>
          <c_interception name="c_interception">0.0</c_interception>
          <d_interception name="d_interception">0.0</d_interception>
        </micromet>
        <irrigation name="Irrigation">
          <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
          <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
          <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">.99</crit_fr_asw>
          <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
          <irrigation_allocation type="list" listvalues="on,off" description="Allocation limits">off</irrigation_allocation>
          <allocation type="text" description="Allocation in mm">0</allocation>
          <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
          <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
          <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
        </irrigation>
        <manager2 name="Irrigate on sw deficit">
          <ui>
            <deficit type="text" description="Irrigate when soil water deficit reaches this amount (mm)">2</deficit>
            <eff type="text" description="Irrigation efficiency (0-1)">1.0</eff>
            <start type="text" description="The earliest date irrigation will be applied (dd-mmm)">1-jun</start>
            <end type="text" description="The latest date irrigation will be applied (dd-mmm)">15-Sep</end>
            <maxlayer type="text" description="The deficit will be calculated to this soil layer (0 for full profile)">15</maxlayer>
            <amount type="text" description="Amount of irrigation to apply (0 for deficit)">0</amount>
          </ui>
          <text>using System;
using ModelFramework;
using CSGeneral;

public class Script 
{      
   [Link] Irrigation Irrigation; 
   [Input] DateTime today;
   [Input] double[] dul_dep;     //drained upper limit (field capacity) 
   [Input] double[] sw_dep;      //soil water
   [Input] double[] ll15_dep;    //15 bar lower limit
   [Param] int deficit;          //allowable soil water deficit
   [Param] double eff;           //irrigation efficiency
   [Param] string start;         //no irrigation will be applied before this date
   [Param] string end;           //no irrigation will be applied after this date
   [Param] int maxlayer;         //calculate soil water deficit to this layer (inclusive)
   [Param] int amount;
   [Output] double totalSWD;     //total soil water deficit for given layers
   
   private double[] DulDep;
   private double[] SwDep;
   private double[] LL15Dep;
   private double[] SWD;
   
   [EventHandler] public void OnInitialised()
   {
      DulDep = new double[dul_dep.Length];
      SwDep = new double[dul_dep.Length];
      LL15Dep = new double[dul_dep.Length];
      SWD = new double[dul_dep.Length];
      
      if (maxlayer &gt; dul_dep.Length)
      {
         Console.WriteLine("Warning: max layer is greater than number of layers.");
         Console.WriteLine("Using full profile for soil water deficit calculations.");
         maxlayer = 0;
      }
   }
     
   // The following event handler will be called each day at the beginning of the day
   [EventHandler] public void OnPrepare()
   {
      for (int i = 0; i &lt; (maxlayer &gt; 0 ? maxlayer : dul_dep.Length); i++)
      {
         SWD[i] = dul_dep[i] - sw_dep[i];
      }
      totalSWD = MathUtility.Sum(SWD);
      
      //if the soil water deficit is higer than the allowed deficit, and today is within the irrigation window
      if (totalSWD &gt; deficit &amp;&amp; DateUtility.WithinDates(start, today, end))
      {
         IrrigationApplicationType data = new IrrigationApplicationType(); //using a type means we can use defaults for values we don't change
         data.Amount = (int)totalSWD;
         Irrigation.Set("irrigation_efficiency", eff);
         Irrigation.Apply(data);
      }
   }  
}
       </text>
        </manager2>
        <Soil name="Te Toka_8a1">
          <RecordNumber>-1</RecordNumber>
          <SoilType>Typic Orthic Pumice Soils</SoilType>
          <Latitude>-41</Latitude>
          <Longitude>-82</Longitude>
          <YearOfSampling>0</YearOfSampling>
          <memo name="Warning_MissingParameters">Smap was not able to supply a complete set of parameters. You will need to provide your own estimation for these parameters to make the soil operational.  See the memo under Water section for further details.</memo>
          <LayerStructure>
            <Thickness>
              <double>10</double>
              <double>20</double>
              <double>30</double>
              <double>40</double>
              <double>122</double>
              <double>122</double>
              <double>122.00000000000003</double>
              <double>121.99999999999996</double>
              <double>122.00000000000003</double>
              <double>122.00000000000003</double>
              <double>122.00000000000003</double>
              <double>121.99999999999989</double>
              <double>122.00000000000003</double>
              <double>122.00000000000003</double>
              <double>121.99999999999989</double>
              <double>122.00000000000017</double>
              <double>121.99999999999989</double>
              <double>122.00000000000017</double>
              <double>121.99999999999989</double>
              <double>50</double>
              <double>20</double>
            </Thickness>
          </LayerStructure>
          <Water>
            <Thickness>
              <double>2000</double>
            </Thickness>
            <BD>
              <double>0.92485000000000017</double>
            </BD>
            <AirDry>
              <double>0.22385000000000002</double>
            </AirDry>
            <LL15>
              <double>0.242</double>
            </LL15>
            <DUL>
              <double>0.43700000000000006</double>
            </DUL>
            <SAT>
              <double>0.60543</double>
            </SAT>
            <KS>
              <double>1920</double>
            </KS>
            <SoilCrop name="Ryegrass_Clover">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.242</double>
              </LL>
              <KL>
                <double>0.00022308769589997226</double>
              </KL>
              <XF>
                <double>0.022550455808510915</double>
              </XF>
            </SoilCrop>
            <SoilCrop name="Wheat">
              <Thickness>
                <double>2000</double>
              </Thickness>
              <LL>
                <double>0.242</double>
              </LL>
              <KL>
                <double>0.2</double>
              </KL>
              <XF>
                <double>1</double>
              </XF>
            </SoilCrop>
            <memo name="Handling_MissingParameters">The following tags are missing Smap parameters: KS. You will need to provide your own estimation for the parameters with the dummy -12345.67 value.</memo>
          </Water>
          <SoilOrganicMatter>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>10.0</double>
              <double>20.0</double>
              <double>30.0</double>
              <double>40.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>122.0</double>
              <double>50.0</double>
              <double>20.0</double>
            </Thickness>
            <OC>
              <double>4.7</double>
              <double>3.2164402071603773</double>
              <double>0.6082307898023562</double>
              <double>0.2248245398934235</double>
              <double>0.20003807614439786</double>
              <double>0.2000000021975503</double>
              <double>0.20000000000012685</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.06926545765453743</double>
              <double>0.03409553695297617</double>
              <double>0.015376441019179983</double>
              <double>0.010658379763921602</double>
              <double>0.010005102761754524</double>
              <double>0.010000003378856008</double>
              <double>0.010000000002237351</double>
              <double>0.010000000000001482</double>
              <double>0.010000000000000002</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.5696460117874711</double>
              <double>0.7255941819529867</double>
              <double>0.8703798696770542</double>
              <double>0.9546410233552938</double>
              <double>0.9960067393670222</double>
              <double>0.9998972433699422</double>
              <double>0.9999973558137093</double>
              <double>0.9999999319584426</double>
              <double>0.9999999982491198</double>
              <double>0.9999999999549454</double>
              <double>0.9999999999988407</double>
              <double>0.9999999999999702</double>
              <double>0.9999999999999992</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
              <double>1.0</double>
            </FInert>
          </SoilOrganicMatter>
          <Analysis>
            <Thickness>
              <double>2000.0</double>
            </Thickness>
            <Rocks>
              <double>0.0</double>
            </Rocks>
            <PH>
              <double>7.0</double>
            </PH>
            <CEC>
              <double>17.19</double>
            </CEC>
            <ParticleSizeSand>
              <double>55.0</double>
            </ParticleSizeSand>
            <ParticleSizeSilt>
              <double>27.0</double>
            </ParticleSizeSilt>
            <ParticleSizeClay>
              <double>18.0</double>
            </ParticleSizeClay>
          </Analysis>
          <Sample name="Initial nitrogen">
            <Thickness>
              <double>2000</double>
            </Thickness>
            <NO3>
              <double>1000</double>
            </NO3>
            <NH4>
              <double>2.9999999999999996</double>
            </NH4>
            <NO3Units>kgha</NO3Units>
            <NH4Units>ppm</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <InitialWater name="Initial water">
            <FractionFull>1</FractionFull>
            <PercentMethod>FilledFromTop</PercentMethod>
          </InitialWater>
          <Swim>
            <Salb type="text" description="Bare Soil Albedo">0.13</Salb>
            <CN2Bare type="text" description="Bare Soil Runoff Curve Number">75</CN2Bare>
            <CNRed type="text" description="Max. Reduction in Curve Number due to cover">20</CNRed>
            <CNCov type="text" description="Cover for max Curve Number reduction">0.8</CNCov>
            <KDul type="text" description="Hydraulic Conductivity at DUL (mm/d)">0.1</KDul>
            <PSIDul type="text" description="Matric Potential at DUL (cm)">-100</PSIDul>
            <VC type="list" listvalues="on,off" description="Vapour Conductivity Calculations (on/off)">true</VC>
            <DTmin type="text" description="Minimum Timestep (min)">0.0</DTmin>
            <DTmax type="text" description="Maximum Timestep (min)">1440.0</DTmax>
            <MaxWaterIncrement type="text" description="Maximum Water Increment (mm)">10</MaxWaterIncrement>
            <SpaceWeightingFactor type="text" description="Space Weighting Factor">0</SpaceWeightingFactor>
            <SoluteSpaceWeightingFactor type="text" description="Solute Space Weighting Factor">0.0</SoluteSpaceWeightingFactor>
            <Diagnostics type="yesno" description="Diagnostic Information?">false</Diagnostics>
            <SwimSoluteParameters>
              <Dis type="text" description="Dispersivity - dis ((cm^2/h)/(cm/h)^p) ">15</Dis>
              <Disp type="text" description="Dispersivity Power - disp">1</Disp>
              <A type="text" description="Tortuosity Constant - a">1.0</A>
              <DTHC type="text" description="Tortuoisty Offset - dthc">0.0</DTHC>
              <DTHP type="text" description="Tortuoisty Power - dthp">1.0</DTHP>
              <WaterTableCl type="text" description="Water Table Cl Concentration (ppm)">0</WaterTableCl>
              <WaterTableNO3 type="text" description="Water Table NO3 Concentration (ppm)">0.0</WaterTableNO3>
              <WaterTableNH4 type="text" description="Water Table NH4 Concentration (ppm)">0.0</WaterTableNH4>
              <WaterTableUrea type="text" description="Water Table Urea Concentration (ppm)">0.0</WaterTableUrea>
              <Thickness>
                <double>2000.0</double>
              </Thickness>
              <ThicknessUnits>mm</ThicknessUnits>
              <NO3Exco>
                <double>0.0</double>
              </NO3Exco>
              <NO3FIP>
                <double>1.0</double>
              </NO3FIP>
              <NH4Exco>
                <double>100.0</double>
              </NH4Exco>
              <NH4FIP>
                <double>1.0</double>
              </NH4FIP>
              <UreaExco>
                <double>0.0</double>
              </UreaExco>
              <UreaFIP>
                <double>1.0</double>
              </UreaFIP>
              <ClExco>
                <double>0.0</double>
              </ClExco>
              <ClFIP>
                <double>1.0</double>
              </ClFIP>
            </SwimSoluteParameters>
          </Swim>
        </Soil>
        <outputfile>
          <filename output="yes">kl_TeToka82.out</filename>
          <title>kl_TeToka82</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>rain</variable>
            <variable>es</variable>
            <variable>sw(6-10)</variable>
            <variable>cover_green</variable>
            <variable>root_depth</variable>
            <variable>rlv(6-10)</variable>
            <variable>ep</variable>
            <variable>pet_total</variable>
            <variable>irrigation</variable>
            <variable>dul(6-10)</variable>
            <variable>ll15(6-10)</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
      </area>
      <Graph name="CoverGreen">
        <Legend>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>root_depth</Y>
          <YRight>cover_green</YRight>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="RootLength">
        <Legend>
          <CheckedTitles> rlv(1)</CheckedTitles>
          <CheckedTitles> rlv(2)</CheckedTitles>
          <CheckedTitles> rlv(3)</CheckedTitles>
          <CheckedTitles> rlv(4)</CheckedTitles>
          <CheckedTitles> rlv(5)</CheckedTitles>
          <CheckedTitles> rlv(6)</CheckedTitles>
          <CheckedTitles> rlv(7)</CheckedTitles>
          <CheckedTitles> rlv(8)</CheckedTitles>
          <CheckedTitles> rlv(9)</CheckedTitles>
          <CheckedTitles> rlv(10)</CheckedTitles>
          <CheckedTitles> rlv(11)</CheckedTitles>
          <CheckedTitles> rlv(12)</CheckedTitles>
          <CheckedTitles> rlv(13)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>rlv(1)</Y>
          <Y>rlv(2)</Y>
          <Y>rlv(3)</Y>
          <Y>rlv(4)</Y>
          <Y>rlv(5)</Y>
          <Y>rlv(6)</Y>
          <Y>rlv(7)</Y>
          <Y>rlv(8)</Y>
          <Y>rlv(9)</Y>
          <Y>rlv(10)</Y>
          <Y>rlv(11)</Y>
          <Y>rlv(12)</Y>
          <Y>rlv(13)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="SWC layers">
        <Legend>
          <CheckedTitles> sw(6)</CheckedTitles>
          <CheckedTitles> sw(7)</CheckedTitles>
          <CheckedTitles> sw(8)</CheckedTitles>
          <CheckedTitles> sw(9)</CheckedTitles>
          <CheckedTitles> sw(10)</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>sw(1)</Y>
          <Y>sw(2)</Y>
          <Y>sw(3)</Y>
          <Y>sw(4)</Y>
          <Y>sw(5)</Y>
          <Y>sw(6)</Y>
          <Y>sw(7)</Y>
          <Y>sw(8)</Y>
          <Y>sw(9)</Y>
          <Y>sw(10)</Y>
          <Y>sw(11)</Y>
          <Y>sw(12)</Y>
          <Y>sw(13)</Y>
          <Y>sw(14)</Y>
          <Y>sw(15)</Y>
          <Y>sw(16)</Y>
          <Y>sw(17)</Y>
          <Y>sw(18)</Y>
          <Y>sw(19)</Y>
          <Y>sw(20)</Y>
          <Y>sw(21)</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
      <Graph name="EP">
        <Legend>
          <CheckedTitles> kl_ApsimVYc1</CheckedTitles>
        </Legend>
        <Plot>
          <SeriesType>Solid line</SeriesType>
          <PointType>Circle</PointType>
          <colour>
          </colour>
          <X>Date</X>
          <Y>ep</Y>
          <GDApsimFileReader name="ApsimFileReader" />
        </Plot>
      </Graph>
    </simulation>
  </folder>
</folder>